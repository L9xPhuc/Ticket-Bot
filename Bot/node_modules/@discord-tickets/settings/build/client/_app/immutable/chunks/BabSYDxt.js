import{w as I,E as q,aP as z,aQ as L,z as P,B as K,aR as M,aS as U,aT as j,aK as y,C as G,n as T,ap as O,aq as x,ar as Q}from"./D0Xv9YzD.js";import{a as W}from"./DH41_4OW.js";import{c as D}from"./BU36I_Bd.js";const H=()=>performance.now(),b={tick:i=>requestAnimationFrame(i),now:()=>H(),tasks:new Set};function $(){const i=b.now();b.tasks.forEach(t=>{t.c(i)||(b.tasks.delete(t),t.f())}),b.tasks.size!==0&&b.tick($)}function J(i){let t;return b.tasks.size===0&&b.tick($),{promise:new Promise(r=>{b.tasks.add(t={c:i,f:r})}),abort(){b.tasks.delete(t)}}}function N(i,t){i.dispatchEvent(new CustomEvent(t))}function V(i){if(i==="float")return"cssFloat";if(i==="offset")return"cssOffset";if(i.startsWith("--"))return i;const t=i.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function B(i){const t={},r=i.split(";");for(const e of r){const[a,o]=e.split(":");if(!a||o===void 0)break;const s=V(a.trim());t[s]=o.trim()}return t}const X=i=>i;function it(i,t,r){var e=D,a,o,s,h=null;e.a??(e.a={element:i,measure(){a=this.element.getBoundingClientRect()},apply(){if(s==null||s.abort(),o=this.element.getBoundingClientRect(),a.left!==o.left||a.right!==o.right||a.top!==o.top||a.bottom!==o.bottom){const d=t()(this.element,{from:a,to:o},r==null?void 0:r());s=R(this.element,d,void 0,1,()=>{s==null||s.abort(),s=void 0})}},fix(){if(!i.getAnimations().length){var{position:d,width:p,height:u}=getComputedStyle(i);if(d!=="absolute"&&d!=="fixed"){var v=i.style;h={position:v.position,width:v.width,height:v.height,transform:v.transform},v.position="absolute",v.width=p,v.height=u;var n=i.getBoundingClientRect();if(a.left!==n.left||a.top!==n.top){var f=`translate(${a.left-n.left}px, ${a.top-n.top}px)`;v.transform=v.transform?`${v.transform} ${f}`:f}}}},unfix(){if(h){var d=i.style;d.position=h.position,d.width=h.width,d.height=h.height,d.transform=h.transform}}}),e.a.element=i}function rt(i,t,r,e){var a=(i&U)!==0,o=(i&j)!==0,s=a&&o,h=(i&M)!==0,d=s?"both":a?"in":"out",p,u=t.inert,v=t.style.overflow,n,f;function m(){var c=Q,C=I;O(null),x(null);try{return p??(p=r()(t,(e==null?void 0:e())??{},{direction:d}))}finally{O(c),x(C)}}var l={is_global:h,in(){var c;if(t.inert=u,!a){f==null||f.abort(),(c=f==null?void 0:f.reset)==null||c.call(f);return}o||n==null||n.abort(),N(t,"introstart"),n=R(t,m(),f,1,()=>{N(t,"introend"),n==null||n.abort(),n=p=void 0,t.style.overflow=v})},out(c){if(!o){c==null||c(),p=void 0;return}t.inert=!0,N(t,"outrostart"),f=R(t,m(),n,0,()=>{N(t,"outroend"),c==null||c()})},stop:()=>{n==null||n.abort(),f==null||f.abort()}},w=I;if((w.transitions??(w.transitions=[])).push(l),a&&W){var g=h;if(!g){for(var _=w.parent;_&&_.f&q;)for(;(_=_.parent)&&!(_.f&z););g=!_||(_.f&L)!==0}g&&P(()=>{K(()=>l.in())})}}function R(i,t,r,e,a){var o=e===1;if(y(t)){var s,h=!1;return G(()=>{if(!h){var w=t({direction:o?"in":"out"});s=R(i,w,r,e,a)}}),{abort:()=>{h=!0,s==null||s.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return a(),{abort:T,deactivate:T,reset:T,t:()=>e};const{delay:d=0,css:p,tick:u,easing:v=X}=t;var n=[];if(o&&r===void 0&&(u&&u(0,1),p)){var f=B(p(0,1));n.push(f,f)}var m=()=>1-e,l=i.animate(n,{duration:d});return l.onfinish=()=>{var w=(r==null?void 0:r.t())??1-e;r==null||r.abort();var g=e-w,_=t.duration*Math.abs(g),c=[];if(_>0){var C=!1;if(p)for(var A=Math.ceil(_/16.666666666666668),k=0;k<=A;k+=1){var F=w+g*v(k/A),S=B(p(F,1-F));c.push(S),C||(C=S.overflow==="hidden")}C&&(i.style.overflow="hidden"),m=()=>{var E=l.currentTime;return w+g*v(E/_)},u&&J(()=>{if(l.playState!=="running")return!1;var E=m();return u(E,1-E),!0})}l=i.animate(c,{duration:_,fill:"forwards"}),l.onfinish=()=>{m=()=>e,u==null||u(e,1-e),a()}},{abort:()=>{l&&(l.cancel(),l.effect=null,l.onfinish=T)},deactivate:()=>{a=T},reset:()=>{e===0&&(u==null||u(1,0))},t:()=>m()}}export{it as a,J as l,b as r,rt as t};
