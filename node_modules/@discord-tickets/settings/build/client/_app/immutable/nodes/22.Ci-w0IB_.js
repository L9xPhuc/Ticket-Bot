import{e as hl}from"../chunks/PD1Wq3xD.js";import"../chunks/Bg9kRutz.js";import{a7 as bl,t as I,p as At,aY as Ee,N as q,aZ as tl,c as p,r as h,a as Dt,a_ as Ht,d as y,X as K,s as J,a$ as Ve,g as a,f as te,h as Le,aU as _l,b as pt,e as at}from"../chunks/D0Xv9YzD.js";import{s as Ae}from"../chunks/DH41_4OW.js";import{i as Q}from"../chunks/C1nl-272.js";import{e as Tt,i as ll}from"../chunks/BU36I_Bd.js";import{t as X,a as w,n as jt,c as ge,e as Mt}from"../chunks/BCej-IkM.js";import{s as D,b as qt,c as yl,r as nt}from"../chunks/CEchPJ_u.js";import{m as wl,w as xl,j as f,k as Sl}from"../chunks/B4B08OCC.js";import{b as st}from"../chunks/DzI3iajh.js";import{b as Wt}from"../chunks/BdT_oPZe.js";import{s as Ol,a as xe,p as Nt}from"../chunks/r2wwZTEc.js";import{p as s,l as It,a as Ie}from"../chunks/y_msc5TT.js";import{a as al,s as sl}from"../chunks/DiUvGWfG.js";import{r as Cl}from"../chunks/DEn2hETk.js";import{p as kl}from"../chunks/BkVaPzTK.js";import"../chunks/69_IOA4Y.js";import{e as Ml}from"../chunks/DSwvs_u7.js";import{R as Zt,E as Tl}from"../chunks/DniPBx13.js";import{h as Gt}from"../chunks/13u9z0kj.js";import{s as fe,f as Nl}from"../chunks/DIt2gZ8Z.js";import{s as Ne,t as pe}from"../chunks/DzrszLNB.js";import{r as Xt,l as El,a as Al}from"../chunks/BabSYDxt.js";import{b as ht}from"../chunks/C6RyfrLQ.js";import{i as nl}from"../chunks/C5KiJ9nI.js";import{c as Dl}from"../chunks/DQMzYwo6.js";import{c as Yt}from"../chunks/Jce5emvo.js";import{w as jl}from"../chunks/BTVoBDnD.js";function it(n,e,i,r){var u=n.__styles??(n.__styles={});u[e]!==i&&(u[e]=i,i==null?n.style.removeProperty(e):n.style.setProperty(e,i,""))}function ql(n,e){wl(window,["resize"],()=>xl(()=>e(window[n])))}function G(n,e){var d;var i=(d=n.$$events)==null?void 0:d[e.type],r=bl(i)?i.slice():i==null?[]:[i];for(var u of r)u.call(this,e)}async function Il({fetch:n,params:e}){var M;const i={credentials:"include"},r=await n(`/api/admin/guilds/${e.guild}/categories`,i),u=(M=r.headers.get("Content-Type"))==null?void 0:M.includes("json"),d=u?await r.json():await r.text();if(!r.ok)hl(r.status,u?JSON.stringify(d):d);else return{categories:d,channels:await(await n(`/api/admin/guilds/${e.guild}/data?query=channels.cache`,i)).json()}}const La=Object.freeze(Object.defineProperty({__proto__:null,load:Il},Symbol.toStringTag,{value:"Module"}));var Ll=X('<div class="svelte-154g05d"></div>');function Ul(n,e){let i=s(e,"color",24,()=>"cornflowerblue"),r=s(e,"duration",24,()=>"1.5s"),u=s(e,"size",24,()=>"1em");var d=Ll();I(()=>{D(d,"style",`--duration: ${r()??""}`),it(d,"border-color",`${i()??""} transparent ${i()??""}
  ${i()??""}`),it(d,"width",u()),it(d,"height",u())}),w(n,d)}function Kt(n){return Object.prototype.toString.call(n)==="[object Date]"}function Et(n,e,i,r){if(typeof i=="number"||Kt(i)){const u=r-i,d=(i-e)/(n.dt||1/60),M=n.opts.stiffness*u,P=n.opts.damping*d,le=(M-P)*n.inv_mass,z=(d+le)*n.dt;return Math.abs(z)<n.opts.precision&&Math.abs(u)<n.opts.precision?r:(n.settled=!1,Kt(i)?new Date(i.getTime()+z):i+z)}else{if(Array.isArray(i))return i.map((u,d)=>Et(n,e[d],i[d],r[d]));if(typeof i=="object"){const u={};for(const d in i)u[d]=Et(n,e[d],i[d],r[d]);return u}else throw new Error(`Cannot spring ${typeof i} values`)}}function Bl(n,e={}){const i=jl(n),{stiffness:r=.15,damping:u=.8,precision:d=.01}=e;let M,P,le,z=n,b=n,re=1,U=0,oe=!1;function he(L,ce={}){b=L;const Ue=le={};return n==null||ce.hard||B.stiffness>=1&&B.damping>=1?(oe=!0,M=Xt.now(),z=L,i.set(n=b),Promise.resolve()):(ce.soft&&(U=1/((ce.soft===!0?.5:+ce.soft)*60),re=0),P||(M=Xt.now(),oe=!1,P=El(V=>{if(oe)return oe=!1,P=null,!1;re=Math.min(re+U,1);const De=Math.min(V-M,1e3/30),be={inv_mass:re,opts:B,settled:!0,dt:De*60/1e3},_e=Et(be,z,n,b);return M=V,z=n,i.set(n=_e),be.settled&&(P=null),!be.settled})),new Promise(V=>{P.promise.then(()=>{Ue===le&&V()})}))}const B={set:he,update:(L,ce)=>he(L(b,n),ce),subscribe:i.subscribe,stiffness:r,damping:u,precision:d};return B}var Pl=X("<span><!></span>");function zl(n,e){At(e,!1);const[i,r]=sl(),u=()=>al(he,"$store",i);let d=s(e,"wiggle",12,!1),M=s(e,"angle",8,0),P=s(e,"scale",8,1),le=s(e,"dx",8,0),z=s(e,"dy",8,0),b=s(e,"duration",8,200),re=s(e,"stiffness",8,.05),U=s(e,"damping",8,.1),oe={angle:0,scale:1,dx:0,dy:0},he=Bl(oe,{stiffness:re(),damping:U()});Ee(()=>(q(d()),q(b())),()=>{d()&&setTimeout(()=>d(!1),b())}),Ee(()=>(q(d()),q(P()),q(M()),q(le()),q(z())),()=>{he.set(d()?{scale:P(),angle:M(),dx:le(),dy:z()}:oe)}),tl(),nl();var B=Pl(),L=p(B);fe(L,e,"default",{},null),h(B),I(()=>it(B,"transform",`rotate(${u().angle??""}deg) scale(${u().scale??""}) translate(${u().dx??""}px,
  ${u().dy??""}px)`)),w(n,B),Dt(),r()}var Fl=jt('<svg><path d="M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zm0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z"></path></svg>');function Rl(n,e){const i=It(e,["children","$$slots","$$events","$$legacy"]);var r=Fl();let u;I(()=>u=qt(r,u,{...i,fill:"currentColor",viewBox:"0 0 16 16"},void 0,!0)),w(n,r)}var Jl=jt('<svg><path d="M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"></path></svg>');function Qt(n,e){const i=It(e,["children","$$slots","$$events","$$legacy"]);var r=Jl();let u;I(()=>u=qt(r,u,{...i,viewBox:"0 0 24 24",fill:"currentColor"},void 0,!0)),w(n,r)}var Vl=jt('<svg><path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2S2 6.477 2 12s4.477 10 10 10Zm-4.906-3.68L18.32 7.094A8 8 0 0 1 7.094 18.32ZM5.68 16.906A8 8 0 0 1 16.906 5.68L5.68 16.906Z"></path></svg>');function Hl(n,e){const i=It(e,["children","$$slots","$$events","$$legacy"]);var r=Vl();let u;I(()=>u=qt(r,u,{...i,viewBox:"0 0 24 24",fill:"currentColor"},void 0,!0)),w(n,r)}const ie=n=>n instanceof Object?(n.label===void 0&&console.error(`MultiSelect option ${JSON.stringify(n)} is an object but has no label key`),n.label):`${n}`;function $t(n,e=null){let i="";if(["selected","option",null].includes(e)||console.error(`MultiSelect: Invalid key=${e} for get_style`),typeof n=="object"&&n.style&&(typeof n.style=="string"&&(i=n.style),typeof n.style=="object")){if(e&&e in n.style)return n.style[e]??"";console.error(`Invalid style object for option=${JSON.stringify(n)}`)}return i.trim()&&!i.trim().endsWith(";")&&(i+=";"),i}var Wl=X('<button type="button" class="remove svelte-1ndgm4m"><!></button>'),Zl=X('<li role="option" aria-selected="true"><!> <!></li>'),Gl=X("<span> </span>"),Xl=X('<button type="button" class="remove remove-all svelte-1ndgm4m"><!></button>'),Yl=X("<!> <!>",1),Kl=X('<li role="option" aria-selected="false"><!></li>'),Ql=X('<li role="option" aria-selected="false"><!></li>'),$l=X('<ul role="listbox"><!> <!></ul>'),ea=X('<div role="searchbox" tabindex="-1"><input tabindex="-1" aria-hidden="true" aria-label="ignore this, used only to prevent form submission if select is required but empty" class="form-control svelte-1ndgm4m"> <!> <ul aria-label="selected options"><!> <input> <!></ul> <!> <!> <!></div>');function ta(n,e){var Vt;At(e,!1);const i=Ve();let r=s(e,"activeIndex",12,null),u=s(e,"activeOption",12,null),d=s(e,"createOptionMsg",24,()=>"Create this option..."),M=s(e,"allowUserOptions",8,!1),P=s(e,"allowEmpty",8,!1),le=s(e,"autocomplete",24,()=>"off"),z=s(e,"autoScroll",8,!0),b=s(e,"breakpoint",8,800),re=s(e,"defaultDisabledTitle",24,()=>"This option is disabled"),U=s(e,"disabled",8,!1),oe=s(e,"disabledInputTitle",24,()=>"This input is disabled"),he=s(e,"duplicateOptionMsg",24,()=>"This option is already selected"),B=s(e,"duplicates",8,!1),L=s(e,"key",8,t=>`${ie(t)}`.toLowerCase()),ce=s(e,"filterFunc",8,(t,l)=>l?`${ie(t)}`.toLowerCase().includes(l.toLowerCase()):!0),Ue=s(e,"closeDropdownOnSelect",24,()=>"desktop"),V=s(e,"form_input",12,null),De=s(e,"highlightMatches",8,!0),be=s(e,"id",8,null),_e=s(e,"input",12,null),bt=s(e,"inputClass",24,()=>""),He=s(e,"inputStyle",8,null),_t=s(e,"inputmode",8,null),ye=s(e,"invalid",12,!1),We=s(e,"liActiveOptionClass",24,()=>""),rt=s(e,"liActiveUserMsgClass",24,()=>""),Ze=s(e,"liOptionClass",24,()=>""),Be=s(e,"liOptionStyle",8,null),ot=s(e,"liSelectedClass",24,()=>""),Ge=s(e,"liSelectedStyle",8,null),ct=s(e,"liUserMsgClass",24,()=>""),Pe=s(e,"loading",8,!1),H=s(e,"matchingOptions",28,()=>[]),Se=s(e,"maxOptions",8,void 0),x=s(e,"maxSelect",8,null),Xe=s(e,"maxSelectMsg",8,(t,l)=>l>1?`${t}/${l}`:""),dt=s(e,"maxSelectMsgClass",24,()=>""),yt=s(e,"name",8,null),ze=s(e,"noMatchingOptionsMsg",24,()=>"No matching options"),we=s(e,"open",12,!1),W=s(e,"options",12),je=s(e,"outerDiv",12,null),ut=s(e,"outerDivClass",24,()=>""),Fe=s(e,"parseLabelsAsHtml",8,!1),Ye=s(e,"pattern",8,null),Ke=s(e,"placeholder",8,null),ft=s(e,"removeAllTitle",24,()=>"Remove all"),Qe=s(e,"removeBtnTitle",24,()=>"Remove"),$e=s(e,"minSelect",8,null),Y=s(e,"required",8,!1),et=s(e,"resetFilterOnAdd",8,!0),N=s(e,"searchText",28,()=>""),o=s(e,"selected",28,()=>{var t;return((t=W())==null?void 0:t.filter(l=>l instanceof Object&&(l==null?void 0:l.preselected)).slice(0,x()??void 0))??[]}),Oe=s(e,"sortSelected",8,!1),Re=s(e,"selectedOptionsDraggable",24,()=>!Oe()),wt=s(e,"style",8,null),xt=s(e,"ulOptionsClass",24,()=>""),c=s(e,"ulSelectedClass",24,()=>""),k=s(e,"ulSelectedStyle",8,null),$=s(e,"ulOptionsStyle",8,null),de=s(e,"value",12,null);const ee=t=>{de(x()===1?t[0]??null:t)},Ce=t=>{x()===1?o(t?[t]:[]):o(t??[])};let ke=Ve(!1);((Vt=W())==null?void 0:Vt.length)>0||(M()||Pe()||U()||P()?W([]):console.error("MultiSelect received no options")),x()!==null&&x()<1&&console.error(`MultiSelect's maxSelect must be null or positive integer, got ${x()}`),Array.isArray(o())||console.error(`MultiSelect's selected prop should always be an array, got ${o()}`),x()&&typeof Y()=="number"&&Y()>x()&&console.error(`MultiSelect maxSelect=${x()} < required=${Y()}, makes it impossible for users to submit a valid form`),Fe()&&M()&&console.warn("Don't combine parseLabelsAsHtml and allowUserOptions. It's susceptible to XSS attacks!"),Oe()&&Re()&&console.warn("MultiSelect's sortSelected and selectedOptionsDraggable should not be combined as any user re-orderings of selected options will be undone by sortSelected on component re-renders."),M()&&!d()&&d()!==null&&console.error(`MultiSelect has allowUserOptions=${M()} but createOptionMsg=${d()} is falsy. This prevents the "Add option" <span> from showing up, resulting in a confusing user experience.`),Se()&&(typeof Se()!="number"||Se()<0||Se()%1!=0)&&console.error(`MultiSelect's maxOptions must be undefined or a positive integer, got ${Se()}`);const me=Dl();let ve=Ve(!1),Lt=Ve();if(r()!==null&&!H()[r()])throw`Run time error, activeIndex=${r()} is out of bounds, matchingOptions.length=${H().length}`;function mt(t,l){var m,F;x()&&x()>1&&o().length>=x()&&J(ke,!0),!isNaN(Number(t))&&typeof o().map(ie)[0]=="number"&&(t=Number(t));const _=o().map(L()).includes(L()(t));if((x()===null||x()===1||o().length<x())&&(B()||!_)){if(!W().includes(t)&&[!0,"append"].includes(M())&&N().length>0&&(typeof W()[0]=="object"?t={label:N()}:(["number","undefined"].includes(typeof W()[0])&&!isNaN(Number(N()))?t=Number(N()):t=N(),me("create",{option:t})),M()==="append"&&W([...W(),t])),et()&&N(""),["",void 0,null].includes(t)){console.error(`MultiSelect: encountered falsy option ${t}`);return}x()===1?o([t]):(o([...o(),t]),Oe()===!0?o(o().sort((j,ue)=>{const[v,g]=[ie(j),ie(ue)];return`${v}`.localeCompare(`${g}`)})):typeof Oe()=="function"&&o(o().sort(Oe())));const Z=o().length===x(),E=Ue()===!0||Ue()==="desktop"&&a(Lt)<b();Z||E?St(l):E||(m=_e())==null||m.focus(),me("add",{option:t}),me("change",{option:t,type:"add"}),ye(!1),(F=V())==null||F.setCustomValidity("")}}function gt(t){var m;if(o().length===0)return;const l=o().findIndex(F=>L()(F)===L()(t));let[_]=o().splice(l,1);if(_===void 0&&M()&&(_=typeof W()[0]?{label:t}:t),_===void 0)return console.error(`Multiselect can't remove selected option ${JSON.stringify(t)}, not found in selected list`);o([...o()]),ye(!1),(m=V())==null||m.setCustomValidity(""),me("remove",{option:_}),me("change",{option:_,type:"remove"})}function vt(t){var l;U()||(we(!0),t instanceof FocusEvent||(l=_e())==null||l.focus(),me("open",{event:t}))}function St(t){var l;we(!1),(l=_e())==null||l.blur(),r(null),me("close",{event:t})}async function il(t){var l;if(t.key==="Escape"||t.key==="Tab")St(t),N("");else if(t.key==="Enter")t.preventDefault(),u()?(o().includes(u())?gt(u()):mt(u(),t),N("")):M()&&N().length>0?mt(N(),t):vt(t);else if(["ArrowDown","ArrowUp"].includes(t.key)){if(r()===null&&H().length>0){r(0);return}else if(M()&&!H().length&&N().length>0){J(ve,!a(ve));return}else if(r()===null)return;t.preventDefault();const _=t.key==="ArrowUp"?-1:1;if(r((r()+_)%H().length),r()<0&&r(H().length-1),z()){await _l();const m=document.querySelector("ul.options > li.active");m&&((l=m.scrollIntoViewIfNeeded)==null||l.call(m))}}else t.key==="Backspace"&&o().length>0&&!N()?gt(o().at(-1)):H().length>0&&r(0)}function Ut(){me("removeAll",{options:o()}),me("change",{options:o(),type:"removeAll"}),o([]),N("")}const Bt=t=>l=>{["Enter","Space"].includes(l.code)&&(l.preventDefault(),t())};function Pt(t){je()&&!je().contains(t.target)&&St(t)}let Ot=Ve(null);const rl=t=>l=>{if(!l.dataTransfer)return;l.dataTransfer.dropEffect="move";const _=parseInt(l.dataTransfer.getData("text/plain")),m=[...o()];_<t?(m.splice(t+1,0,m[_]),m.splice(_,1)):(m.splice(t,0,m[_]),m.splice(_+1,1)),o(m),J(Ot,null)},ol=t=>l=>{l.dataTransfer&&(l.dataTransfer.effectAllowed="move",l.dataTransfer.dropEffect="move",l.dataTransfer.setData("text/plain",`${t}`))};let Ct=Ve();function cl(t){var E;if(!De()||typeof CSS>"u"||!CSS.highlights)return;CSS.highlights.clear();const l=(E=t==null?void 0:t.target)==null?void 0:E.value.trim().toLowerCase();if(!l)return;const _=document.createTreeWalker(a(Ct),NodeFilter.SHOW_TEXT,{acceptNode:j=>(j==null?void 0:j.textContent)===ze()?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),m=[];let F=_.nextNode();for(;F;)m.push(F),F=_.nextNode();const Z=m.map(j=>{var T;const ue=(T=j.textContent)==null?void 0:T.toLowerCase(),v=[];let g=0;for(;ue&&g<ue.length;){const R=ue.indexOf(l,g);if(R===-1)break;v.push(R),g=R+l.length}return v.map(R=>{const O=new Range;return O.setStart(j,R),O.setEnd(j,R+l.length),O})});CSS.highlights.set("sms-search-matches",new Highlight(...Z.flat()))}Ee(()=>q(o()),()=>{ee(o())}),Ee(()=>q(de()),()=>{Ce(de())}),Ee(()=>(q(W()),q(ce()),q(N()),q(o()),q(L()),q(B())),()=>{H(W().filter(t=>ce()(t,N())&&(!o().map(L()).includes(L()(t))||B())))}),Ee(()=>(q(H()),q(r())),()=>{u(H()[r()??-1]??null)}),Ee(()=>(q(o()),ie),()=>{J(i,t=>o().map(ie).includes(t))}),Ee(()=>(q(Y()),q(V())),()=>{var t;Y(),(t=V())==null||t.setCustomValidity("")}),tl(),nl();var ae=ea();f("click",Ht,Pt),f("touchstart",Ht,Pt);var qe=p(ae);nt(qe),ht(qe,t=>V(t),()=>V());var zt=y(qe,2);fe(zt,e,"expand-icon",{get open(){return we()}},t=>{Rl(t,{width:"15px",style:"min-width: 1em; padding: 0 1pt; cursor: pointer;"})});var tt=y(zt,2),Ft=p(tt);Tt(Ft,11,o,(t,l)=>B()?[L()(t),l]:L()(t),(t,l,_)=>{var m=Zl(),F=Le(()=>ol(a(_))),Z=Le(()=>rl(a(_))),E=p(m);fe(E,e,"selected",{get option(){return a(l)},get idx(){return a(_)}},v=>{var g=ge(),T=te(g);fe(T,e,"default",{get option(){return a(l)},get idx(){return a(_)}},R=>{var O=ge(),A=te(O);{var C=se=>{var ne=ge(),Te=te(ne);Gt(Te,()=>ie(a(l))),w(se,ne)},Me=se=>{var ne=Mt();I(Te=>Ae(ne,Te),[()=>ie(a(l))],K),w(se,ne)};Q(A,se=>{Fe()?se(C):se(Me,!1)})}w(R,O)}),w(v,g)});var j=y(E,2);{var ue=v=>{var g=Wl(),T=Le(()=>Bt(()=>gt(a(l)))),R=p(g);fe(R,e,"remove-icon",{},O=>{Qt(O,{width:"15px"})}),h(g),I(O=>D(g,"title",`${Qe()??""} ${O??""}`),[()=>ie(a(l))],K),f("mouseup",g,xe(()=>gt(a(l)))),f("keydown",g,function(...O){var A;(A=a(T))==null||A.apply(this,O)}),w(v,g)};Q(j,v=>{!U()&&($e()===null||o().length>$e())&&v(ue)})}h(m),I(v=>{Ne(m,Yt(ot()),"svelte-1ndgm4m"),D(m,"draggable",Re()&&!U()&&o().length>1),D(m,"style",`${v??""} ${Ge()??""}`),pe(m,"active",a(Ot)===a(_))},[()=>$t(a(l),"selected")],K),Al(m,()=>Nl,()=>({duration:100})),f("dragstart",m,function(...v){var g;(g=a(F))==null||g.apply(this,v)}),f("drop",m,Nt(function(...v){var g;(g=a(Z))==null||g.apply(this,v)})),f("dragenter",m,()=>J(Ot,a(_))),f("dragover",m,Nt(function(v){G.call(this,e,v)})),w(t,m)});var S=y(Ft,2);nt(S),ht(S,t=>_e(t),()=>_e());var dl=y(S,2);fe(dl,e,"after-input",{get selected(){return o()},get disabled(){return U()},get invalid(){return ye()},get id(){return be()},get placeholder(){return Ke()},get open(){return we()},get required(){return Y()}},null),h(tt);var Rt=y(tt,2);{var ul=t=>{var l=ge(),_=te(l);fe(_,e,"spinner",{},m=>{Ul(m,{})}),w(t,l)};Q(Rt,t=>{Pe()&&t(ul)})}var Jt=y(Rt,2);{var fl=t=>{var l=ge(),_=te(l);fe(_,e,"disabled-icon",{},m=>{Hl(m,{width:"14pt",style:"margin: 0 2pt;","data-name":"disabled-icon"})}),w(t,l)},ml=t=>{var l=ge(),_=te(l);{var m=F=>{var Z=Yl(),E=te(Z);{var j=g=>{zl(g,{angle:20,get wiggle(){return a(ke)},set wiggle(T){J(ke,T)},children:(T,R)=>{var O=Gl(),A=p(O,!0);h(O),I(C=>{Ne(O,`max-select-msg ${dt()??""} svelte-1ndgm4m`),Ae(A,C)},[()=>{var C;return(C=Xe())==null?void 0:C(o().length,x())}],K),w(T,O)},$$slots:{default:!0},$$legacy:!0})};Q(E,g=>{x()&&(x()>1||Xe())&&g(j)})}var ue=y(E,2);{var v=g=>{var T=Xl(),R=Le(()=>Bt(Ut)),O=p(T);fe(O,e,"remove-icon",{},A=>{Qt(A,{width:"15px"})}),h(T),I(()=>D(T,"title",ft())),f("mouseup",T,xe(Ut)),f("keydown",T,function(...A){var C;(C=a(R))==null||C.apply(this,A)}),w(g,T)};Q(ue,g=>{x()!==1&&o().length>1&&g(v)})}w(F,Z)};Q(_,F=>{o().length>0&&F(m)},!0)}w(t,l)};Q(Jt,t=>{U()?t(fl):t(ml,!1)})}var gl=y(Jt,2);{var vl=t=>{var l=$l(),_=p(l);Tt(_,1,()=>H().slice(0,Math.max(0,Se()??0)||1/0),ll,(Z,E,j,ue)=>{var v=Kl();const g=K(()=>{const{label:O,disabled:A=null,title:C=null,selectedTitle:Me=null,disabledTitle:se=re()}=a(E)instanceof Object?a(E):{label:a(E)};return{label:O,disabled:A,title:C,selectedTitle:Me,disabledTitle:se}}),T=K(()=>r()===j);var R=p(v);fe(R,e,"option",{get option(){return a(E)},idx:j},O=>{var A=ge(),C=te(A);fe(C,e,"default",{get option(){return a(E)},idx:j},Me=>{var se=ge(),ne=te(se);{var Te=Je=>{var lt=ge(),kt=te(lt);Gt(kt,()=>ie(a(E))),w(Je,lt)},pl=Je=>{var lt=Mt();I(kt=>Ae(lt,kt),[()=>ie(a(E))],K),w(Je,lt)};Q(ne,Je=>{Fe()?Je(Te):Je(pl,!1)})}w(Me,se)}),w(O,A)}),h(v),I((O,A,C)=>{D(v,"title",O),Ne(v,`${Ze()??""} ${(a(T)?We():"")??""} svelte-1ndgm4m`),D(v,"style",`${A??""} ${Be()??""}`),pe(v,"selected",C),pe(v,"active",a(T)),pe(v,"disabled",a(g).disabled)},[()=>a(g).disabled?a(g).disabledTitle:a(i)(a(g).label)&&a(g).selectedTitle||a(g).title,()=>$t(a(E),"option"),()=>a(i)(a(g).label)],K),f("mousedown",v,xe(function(O){G.call(this,e,O)})),f("mouseup",v,xe(O=>{a(g).disabled||mt(a(E),O)})),f("mouseover",v,()=>{a(g).disabled||r(j)}),f("focus",v,()=>{a(g).disabled||r(j)}),f("mouseout",v,()=>r(null)),f("blur",v,()=>r(null)),w(Z,v)});var m=y(_,2);{var F=Z=>{var E=ge();const j=K(()=>o().map(ie).includes(N())),ue=K(()=>!B()&&a(j)&&"dupe"),v=K(()=>!!(M()&&d())&&"create"),g=K(()=>{var A;return!!(((A=H())==null?void 0:A.length)==0&&ze())&&"no-match"}),T=K(()=>a(ue)||a(v)||a(g));var R=te(E);{var O=A=>{var C=Ql();const Me=K(()=>({dupe:he(),create:d(),"no-match":ze()})[a(T)]);var se=p(C);fe(se,e,"user-msg",{get searchText(){return N()},get msgType(){return a(T)},get msg(){return a(Me)}},ne=>{var Te=Mt();I(()=>Ae(Te,a(Me))),w(ne,Te)}),h(C),I(()=>{D(C,"title",d()),Ne(C,`user-msg ${ct()??""} ${(a(ve)?rt():"")??""} svelte-1ndgm4m`),pe(C,"active",a(ve)),it(C,"cursor",{dupe:"not-allowed",create:"pointer","no-match":"default"}[a(T)])}),f("mousedown",C,xe(function(ne){G.call(this,e,ne)})),f("mouseup",C,xe(ne=>{M()&&mt(N(),ne)})),f("mouseover",C,()=>J(ve,!0)),f("focus",C,()=>J(ve,!0)),f("mouseout",C,()=>J(ve,!1)),f("blur",C,()=>J(ve,!1)),w(A,C)};Q(R,A=>{a(T)&&A(O)})}w(Z,E)};Q(m,Z=>{N()&&Z(F)})}h(l),ht(l,Z=>J(Ct,Z),()=>a(Ct)),I(()=>{Ne(l,`options ${xt()??""} svelte-1ndgm4m`),D(l,"aria-multiselectable",x()===null||x()>1),D(l,"aria-expanded",we()),D(l,"aria-disabled",U()?"true":null),D(l,"style",$()),pe(l,"hidden",!we())}),w(t,l)};Q(gl,t=>{var l;(N()&&ze()||((l=W())==null?void 0:l.length)>0)&&t(vl)})}h(ae),ht(ae,t=>je(t),()=>je()),I(t=>{Ne(ae,`multiselect ${ut()??""} svelte-1ndgm4m`),D(ae,"title",U()?oe():null),D(ae,"data-id",be()),D(ae,"style",wt()),pe(ae,"disabled",U()),pe(ae,"single",x()===1),pe(ae,"open",we()),pe(ae,"invalid",ye()),D(qe,"name",yt()),qe.required=Y(),yl(qe,t),Ne(tt,`selected ${c()??""} svelte-1ndgm4m`),D(tt,"style",k()),Ne(S,Yt(bt()),"svelte-1ndgm4m"),D(S,"style",He()),D(S,"id",be()),S.disabled=U(),D(S,"autocomplete",le()),D(S,"inputmode",_t()),D(S,"pattern",Ye()),D(S,"placeholder",o().length==0?Ke():null),D(S,"aria-invalid",ye()?"true":null)},[()=>o().length>=Number(Y())?JSON.stringify(o()):null],K),ql("innerWidth",t=>J(Lt,t)),f("invalid",qe,()=>{var l;ye(!0);let t;x()&&x()>1&&Number(Y())>1?t=`Please select between ${Y()} and ${x()} options`:Number(Y())>1?t=`Please select at least ${Y()} options`:t="Please select an option",(l=V())==null||l.setCustomValidity(t)}),st(S,N),f("mouseup",S,Ol(xe(vt))),f("keydown",S,xe(il)),f("focus",S,function(t){G.call(this,e,t)}),f("focus",S,vt),f("input",S,cl),f("drop",S,()=>!1),f("blur",S,function(t){G.call(this,e,t)}),f("change",S,function(t){G.call(this,e,t)}),f("click",S,function(t){G.call(this,e,t)}),f("keydown",S,function(t){G.call(this,e,t)}),f("keyup",S,function(t){G.call(this,e,t)}),f("mousedown",S,function(t){G.call(this,e,t)}),f("mouseenter",S,function(t){G.call(this,e,t)}),f("mouseleave",S,function(t){G.call(this,e,t)}),f("touchcancel",S,function(t){G.call(this,e,t)}),f("touchend",S,function(t){G.call(this,e,t)}),f("touchmove",S,function(t){G.call(this,e,t)}),f("touchstart",S,function(t){G.call(this,e,t)}),f("mouseup",ae,xe(vt)),w(n,ae),Dt()}function la(n=!0){const e=this,i=new IntersectionObserver(function([r]){const u=r.intersectionRatio;if(u<1){const d=u<=0&&n?"center":"nearest";e.scrollIntoView({block:d,inline:d})}this.disconnect()});return i.observe(e),i}var el;typeof Element<"u"&&!((el=Element.prototype)!=null&&el.scrollIntoViewIfNeeded)&&typeof IntersectionObserver<"u"&&(Element.prototype.scrollIntoViewIfNeeded=la);var aa=X('<p class="p-2 text-cyan-500"><i class="fa-solid fa-circle-info text-2xl"></i> Make sure members can read and send messages in <span class="font-mono"> </span>.</p>'),sa=X('<p class="p-2 text-cyan-500"><i class="fa-solid fa-circle-info text-2xl"></i> Make sure members can read but not send messages in <span class="font-mono"> </span>.</p>'),na=X(' <option class="p-1"> </option>',1),ia=X('<i class="fa-solid fa-spinner animate-spin"></i>'),ra=X('<h1 class="m-4 text-center text-4xl font-bold">Create a panel</h1> <div class="m-2 mx-auto max-w-3xl sm:p-4"><!> <div class="rounded-xl bg-white p-4 shadow-sm dark:bg-slate-700"><div class="text-center"><!></div> <form class="my-4 text-lg"><div class="grid grid-cols-1 gap-4 md:grid-cols-2"><div><label><span class="font-medium">Type</span> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How will members use the panel?"></i> <select class="input form-multiselect font-normal" required><option class="p-1">Buttons</option><option class="p-1">Select menu (dropdown)</option></select></label></div> <div><label class="font-medium"><span class="font-medium">Channel</span> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The channel to send the panel message to"></i> <select required class="input form-multiselect font-normal"><option>Create a new channel</option><hr><!></select></label></div> <div><label class="font-medium"><span class="font-medium">Categories</span> <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The category options to be available"></i> <!></label></div> <div><label><span class="font-medium">Title</span> <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The embed title" required></i> <input type="text" class="input form-input" required></label></div> <div><label><span class="font-medium">Large image</span> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Optional - the embed image"></i> <input type="url" class="input form-input"></label></div> <div><label><span class="font-medium">Small image (thumbnail)</span> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Optional - the embed thumbnail"></i> <input type="url" class="input form-input"></label></div> <div><label class="font-medium"><span class="font-medium">Description</span> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Optional - the embed description"></i> <textarea class="input form-input h-24" maxlength="4096"></textarea></label></div> <div class="place-self-center"><button type="submit" class="mt-4 rounded-lg bg-green-300 p-2 px-5 font-medium transition duration-300 hover:bg-green-500 hover:text-white disabled:cursor-not-allowed dark:bg-green-500/50 dark:hover:bg-green-500 dark:hover:text-white"><!> Create</button></div></div></form></div> <div class="mx-auto mt-8 max-w-lg text-center text-base"><div class="rounded-xl border-2 border-cyan-500 bg-cyan-500/20 p-2"><i class="fa-solid fa-circle-info text-2xl text-cyan-500"></i> <br> Looking to edit or remove a panel? Just delete the message or channel in Discord.</div></div></div>',1);function Ua(n,e){At(e,!0);const[i,r]=sl(),u=()=>al(kl,"$page",i);let d=e.data,M=Ie(d.categories),P=pt(Ie(d.channels));J(P,Ie(a(P).filter(c=>c.type===0)));let le=pt(null),z=pt(!1),b=Ie({categories:[],channel:"new",description:"",image:"",title:"",type:"BUTTON",thumbnail:""}),re=pt(Ie([]));const U=M.reduce((c,k)=>(c[(Ml.get(k.emoji)??"")+k.name]=k.id,c),{}),oe=c=>{var k;return(k=a(P).find($=>$.id===c))==null?void 0:k.name},he=async()=>{try{J(z,!0);const c={...b};c.channel==="new"&&(c.channel=null),c.categories=a(re).map(ee=>U[ee]);const k=`/api/admin/guilds/${u().params.guild}/panels`,$=await fetch(k,{method:"POST",body:JSON.stringify(c),credentials:"include",headers:{"Content-Type":"application/json; charset=UTF-8"}}),de=await $.json();if($.ok)window.location="./";else throw de}catch(c){J(z,!1),J(le,Ie(c)),window.scroll({top:0,behavior:"smooth"})}};Cl(()=>{b.type=b.categories.length>5?"MENU":b.categories.length>1&&b.type==="MESSAGE"?"BUTTON":b.type});var B=ra(),L=y(te(B),2),ce=p(L);{var Ue=c=>{Tl(c,{get error(){return a(le)}})};Q(ce,c=>{a(le)&&c(Ue)})}var V=y(ce,2),De=p(V),be=p(De);{var _e=c=>{var k=aa(),$=y(p(k),2),de=p($);h($),at(),h(k),I(ee=>Ae(de,`#${ee??""}`),[()=>oe(b.channel)]),w(c,k)},bt=c=>{var k=ge(),$=te(k);{var de=ee=>{var Ce=sa(),ke=y(p(Ce),2),me=p(ke);h(ke),at(),h(Ce),I(ve=>Ae(me,`#${ve??""}`),[()=>oe(b.channel)]),w(ee,Ce)};Q($,ee=>{b.channel!=="new"&&b.type!=="MESSAGE"&&ee(de)},!0)}w(c,k)};Q(be,c=>{b.channel!=="new"&&b.type==="MESSAGE"?c(_e):c(bt,!1)})}h(De);var He=y(De,2),_t=Le(()=>Nt(()=>he())),ye=p(He),We=p(ye),rt=p(We),Ze=y(p(rt),4),Be=p(Ze);Be.value=(Be.__value="BUTTON")==null?"":"BUTTON";var ot=y(Be);ot.value=(ot.__value="MENU")==null?"":"MENU",h(Ze),h(rt),h(We);var Ge=y(We,2),ct=p(Ge),Pe=y(p(ct),4),H=p(Pe);H.value=(H.__value="new")==null?"":"new";var Se=y(H,2);Tt(Se,17,()=>a(P),ll,(c,k)=>{at();var $=na(),de=te($),ee=y(de),Ce={},ke=p(ee,!0);h(ee),I(()=>{Ae(de,`${a(k).id??""} `),Ce!==(Ce=a(k).id)&&(ee.value=(ee.__value=a(k).id)==null?"":a(k).id),Ae(ke,a(k).name)}),w(c,$)}),h(Pe),h(ct),h(Ge);var x=y(Ge,2),Xe=p(x),dt=y(p(Xe),2);Zt(dt);var yt=y(dt,4);const ze=Le(()=>b.type==="MENU"?25:5),we=Le(()=>Object.keys(U));ta(yt,{outerDivClass:"text-base my-1 p-2 rounded-md border-transparent bg-gray-100 dark:bg-slate-800 font-normal shadow-sm transition-colors has-[:focus]:ring-2 has-[:focus]:ring-blurple",inputClass:"p-0 rounded-md bg-transparent transition-colors border-0 focus:ring-0",ulSelectedClass:"bg-gray-100 dark:bg-slate-800 text-gray-800 dark:text-slate-300",liSelectedClass:"bg-blurple text-white text-sm font-semibold font-mono",ulOptionsClass:"bg-white dark:bg-slate-900 p-2 max-h-48 overflow-y-auto",liOptionClass:"rounded-md",liActiveOptionClass:"bg-blurple text-white",liUserMsgClass:"text-red-700 dark:text-red-500 bg-red-400/40 dark:bg-red-500/20",liActiveUserMsgClass:"",maxSelectMsgClass:"text-xs",noMatchingOptionsMsg:"Create a category in the categories section",required:!0,get maxSelect(){return a(ze)},get options(){return a(we)},get selected(){return a(re)},set selected(c){J(re,Ie(c))}}),h(Xe),h(x);var W=y(x,2),je=p(W),ut=y(p(je),2);Zt(ut);var Fe=y(ut,4);nt(Fe),h(je),h(W);var Ye=y(W,2),Ke=p(Ye),ft=y(p(Ke),4);nt(ft),h(Ke),h(Ye);var Qe=y(Ye,2),$e=p(Qe),Y=y(p($e),4);nt(Y),h($e),h(Qe);var et=y(Qe,2),N=p(et),o=y(p(N),4);Sl(o),h(N),h(et);var Oe=y(et,2),Re=p(Oe),wt=p(Re);{var xt=c=>{var k=ia();w(c,k)};Q(wt,c=>{a(z)&&c(xt)})}at(),h(Re),h(Oe),h(ye),h(He),h(V),at(2),h(L),I(()=>{Be.disabled=b.categories.length>5,Re.disabled=a(z)}),f("submit",He,function(...c){var k;(k=a(_t))==null||k.apply(this,c)}),Wt(Ze,()=>b.type,c=>b.type=c),Wt(Pe,()=>b.channel,c=>b.channel=c),st(Fe,()=>b.title,c=>b.title=c),st(ft,()=>b.image,c=>b.image=c),st(Y,()=>b.thumbnail,c=>b.thumbnail=c),st(o,()=>b.description,c=>b.description=c),w(n,B),Dt(),r()}export{Ua as component,La as universal};
