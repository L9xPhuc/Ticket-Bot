const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/DoxZjlon.js","../chunks/C1FmrZbK.js"])))=>i.map(i=>d[i]);
import{e as Mn}from"../chunks/PD1Wq3xD.js";import{_ as Rn}from"../chunks/C1FmrZbK.js";import"../chunks/Bg9kRutz.js";import{O as Fn,aX as Ln,aL as jn,i as Xn,l as Ea,F as Yn,G as Bn,j as Hn,m as Wn,ad as Un,p as zt,f as xe,c as u,d as p,r as s,a as Vt,t as Y,g,b as Fe,s as be,e as Ot,h as Ta,at as Da}from"../chunks/D0Xv9YzD.js";import{s as ue}from"../chunks/DH41_4OW.js";import{i as Q}from"../chunks/C1nl-272.js";import{e as Me,i as Re}from"../chunks/BU36I_Bd.js";import{h as Sa}from"../chunks/13u9z0kj.js";import{t as q,a as O,c as Mt,e as Gn}from"../chunks/BCej-IkM.js";import{r as ee,s as ut,a as M}from"../chunks/CEchPJ_u.js";import{k as Xa,e as Ri,j as zn}from"../chunks/B4B08OCC.js";import{b as ae,a as Rt}from"../chunks/DzI3iajh.js";import{b as Ge}from"../chunks/BdT_oPZe.js";import{p as Vn}from"../chunks/r2wwZTEc.js";import{p as Ya,a as Ce}from"../chunks/y_msc5TT.js";import{o as Ba}from"../chunks/DQMzYwo6.js";import{r as ka}from"../chunks/DEn2hETk.js";import{m as wi}from"../chunks/5EBxWskT.js";import{e as $n}from"../chunks/DSwvs_u7.js";import{m as Ca}from"../chunks/DfHyukg_.js";import{s as Qn}from"../chunks/DzrszLNB.js";import{b as Jn}from"../chunks/C6RyfrLQ.js";import{s as Zn,a as Kn}from"../chunks/DiUvGWfG.js";import{p as eo}from"../chunks/BkVaPzTK.js";import{R as De,E as to}from"../chunks/DniPBx13.js";import{m as io}from"../chunks/Cd4xBISH.js";import{q as J}from"../chunks/B4GhYNxf.js";import{b as ao}from"../chunks/DYdhc7Mi.js";function Oa(i,e,t){Ea&&Yn();var a=i,n=Un,o,r=Fn()?Ln:jn;Xn(()=>{r(n,n=e())&&(o&&Bn(o),o=Hn(()=>t(a)))}),Ea&&(a=Wn)}async function no({fetch:i,params:e}){var o;const t={credentials:"include"};let a;if(e.category==="new")a={channelName:"",claiming:!1,description:"",discordCategory:"new",enableFeedback:!1,emoji:"",image:"",memberLimit:1,name:"",openingMessage:"",pingRoles:[],questions:[],ratelimit:null,requiredRoles:[],requireTopic:!1,staffRoles:[],totalLimit:50};else{const r=await i(`/api/admin/guilds/${e.guild}/categories/${e.category}`,t),l=(o=r.headers.get("Content-Type"))==null?void 0:o.includes("json");a=l?await r.json():await r.text(),r.ok||Mn(r.status,l?JSON.stringify(a):a)}let n=`/api/admin/guilds/${e.guild}/categories`;return e.category!=="new"&&(n+=`/${e.category}`),{url:n,category:a,channels:await(await i(`/api/admin/guilds/${e.guild}/data?query=channels.cache`,t)).json(),roles:await(await i(`/api/admin/guilds/${e.guild}/data?query=roles.cache`,t)).json(),settings:await(await i(`/api/admin/guilds/${e.guild}/settings`,t)).json()}}const Qr=Object.freeze(Object.defineProperty({__proto__:null,load:no},Symbol.toStringTag,{value:"Module"}));let It;const oo=new Uint8Array(16);function ro(){if(!It&&(It=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!It))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return It(oo)}const re=[];for(let i=0;i<256;++i)re.push((i+256).toString(16).slice(1));function lo(i,e=0){return re[i[e+0]]+re[i[e+1]]+re[i[e+2]]+re[i[e+3]]+"-"+re[i[e+4]]+re[i[e+5]]+"-"+re[i[e+6]]+re[i[e+7]]+"-"+re[i[e+8]]+re[i[e+9]]+"-"+re[i[e+10]]+re[i[e+11]]+re[i[e+12]]+re[i[e+13]]+re[i[e+14]]+re[i[e+15]]}const so=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ia={randomUUID:so};function uo(i,e,t){if(Ia.randomUUID&&!i)return Ia.randomUUID();i=i||{};const a=i.random||(i.rng||ro)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,lo(a)}/**!
 * Sortable 1.15.3
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Aa(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,a)}return t}function Ie(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Aa(Object(t),!0).forEach(function(a){co(i,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Aa(Object(t)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(t,a))})}return i}function Ft(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ft=function(e){return typeof e}:Ft=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ft(i)}function co(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function je(){return je=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(i[a]=t[a])}return i},je.apply(this,arguments)}function fo(i,e){if(i==null)return{};var t={},a=Object.keys(i),n,o;for(o=0;o<a.length;o++)n=a[o],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}function po(i,e){if(i==null)return{};var t=fo(i,e),a,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);for(n=0;n<o.length;n++)a=o[n],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(t[a]=i[a])}return t}var mo="1.15.3";function Le(i){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(i)}var Xe=Le(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),_t=Le(/Edge/i),qa=Le(/firefox/i),mt=Le(/safari/i)&&!Le(/chrome/i)&&!Le(/android/i),Ha=Le(/iP(ad|od|hone)/i),Wa=Le(/chrome/i)&&Le(/android/i),Ua={capture:!1,passive:!1};function A(i,e,t){i.addEventListener(e,t,!Xe&&Ua)}function I(i,e,t){i.removeEventListener(e,t,!Xe&&Ua)}function Bt(i,e){if(e){if(e[0]===">"&&(e=e.substring(1)),i)try{if(i.matches)return i.matches(e);if(i.msMatchesSelector)return i.msMatchesSelector(e);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(e)}catch{return!1}return!1}}function Ga(i){return i.host&&i!==document&&i.host.nodeType?i.host:i.parentNode}function Se(i,e,t,a){if(i){t=t||document;do{if(e!=null&&(e[0]===">"?i.parentNode===t&&Bt(i,e):Bt(i,e))||a&&i===t)return i;if(i===t)break}while(i=Ga(i))}return null}var Pa=/\s+/g;function ve(i,e,t){if(i&&e)if(i.classList)i.classList[t?"add":"remove"](e);else{var a=(" "+i.className+" ").replace(Pa," ").replace(" "+e+" "," ");i.className=(a+(t?" "+e:"")).replace(Pa," ")}}function w(i,e,t){var a=i&&i.style;if(a){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(i,""):i.currentStyle&&(t=i.currentStyle),e===void 0?t:t[e];!(e in a)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),a[e]=t+(typeof t=="string"?"":"px")}}function lt(i,e){var t="";if(typeof i=="string")t=i;else do{var a=w(i,"transform");a&&a!=="none"&&(t=a+" "+t)}while(!e&&(i=i.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(t)}function za(i,e,t){if(i){var a=i.getElementsByTagName(e),n=0,o=a.length;if(t)for(;n<o;n++)t(a[n],n);return a}return[]}function Oe(){var i=document.scrollingElement;return i||document.documentElement}function te(i,e,t,a,n){if(!(!i.getBoundingClientRect&&i!==window)){var o,r,l,c,f,v,m;if(i!==window&&i.parentNode&&i!==Oe()?(o=i.getBoundingClientRect(),r=o.top,l=o.left,c=o.bottom,f=o.right,v=o.height,m=o.width):(r=0,l=0,c=window.innerHeight,f=window.innerWidth,v=window.innerHeight,m=window.innerWidth),(e||t)&&i!==window&&(n=n||i.parentNode,!Xe))do if(n&&n.getBoundingClientRect&&(w(n,"transform")!=="none"||t&&w(n,"position")!=="static")){var _=n.getBoundingClientRect();r-=_.top+parseInt(w(n,"border-top-width")),l-=_.left+parseInt(w(n,"border-left-width")),c=r+o.height,f=l+o.width;break}while(n=n.parentNode);if(a&&i!==window){var D=lt(n||i),x=D&&D.a,T=D&&D.d;D&&(r/=T,l/=x,m/=x,v/=T,c=r+v,f=l+m)}return{top:r,left:l,bottom:c,right:f,width:m,height:v}}}function Na(i,e,t){for(var a=$e(i,!0),n=te(i)[e];a;){var o=te(a)[t],r=void 0;if(r=n>=o,!r)return a;if(a===Oe())break;a=$e(a,!1)}return!1}function st(i,e,t,a){for(var n=0,o=0,r=i.children;o<r.length;){if(r[o].style.display!=="none"&&r[o]!==E.ghost&&(a||r[o]!==E.dragged)&&Se(r[o],t.draggable,i,!1)){if(n===e)return r[o];n++}o++}return null}function Fi(i,e){for(var t=i.lastElementChild;t&&(t===E.ghost||w(t,"display")==="none"||e&&!Bt(t,e));)t=t.previousElementSibling;return t||null}function we(i,e){var t=0;if(!i||!i.parentNode)return-1;for(;i=i.previousElementSibling;)i.nodeName.toUpperCase()!=="TEMPLATE"&&i!==E.clone&&(!e||Bt(i,e))&&t++;return t}function Ma(i){var e=0,t=0,a=Oe();if(i)do{var n=lt(i),o=n.a,r=n.d;e+=i.scrollLeft*o,t+=i.scrollTop*r}while(i!==a&&(i=i.parentNode));return[e,t]}function ho(i,e){for(var t in i)if(i.hasOwnProperty(t)){for(var a in e)if(e.hasOwnProperty(a)&&e[a]===i[t][a])return Number(t)}return-1}function $e(i,e){if(!i||!i.getBoundingClientRect)return Oe();var t=i,a=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var n=w(t);if(t.clientWidth<t.scrollWidth&&(n.overflowX=="auto"||n.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(n.overflowY=="auto"||n.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Oe();if(a||e)return t;a=!0}}while(t=t.parentNode);return Oe()}function vo(i,e){if(i&&e)for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function Ei(i,e){return Math.round(i.top)===Math.round(e.top)&&Math.round(i.left)===Math.round(e.left)&&Math.round(i.height)===Math.round(e.height)&&Math.round(i.width)===Math.round(e.width)}var ht;function Va(i,e){return function(){if(!ht){var t=arguments,a=this;t.length===1?i.call(a,t[0]):i.apply(a,t),ht=setTimeout(function(){ht=void 0},e)}}}function go(){clearTimeout(ht),ht=void 0}function $a(i,e,t){i.scrollLeft+=e,i.scrollTop+=t}function Qa(i){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(i).cloneNode(!0):t?t(i).clone(!0)[0]:i.cloneNode(!0)}function Ja(i,e,t){var a={};return Array.from(i.children).forEach(function(n){var o,r,l,c;if(!(!Se(n,e.draggable,i,!1)||n.animated||n===t)){var f=te(n);a.left=Math.min((o=a.left)!==null&&o!==void 0?o:1/0,f.left),a.top=Math.min((r=a.top)!==null&&r!==void 0?r:1/0,f.top),a.right=Math.max((l=a.right)!==null&&l!==void 0?l:-1/0,f.right),a.bottom=Math.max((c=a.bottom)!==null&&c!==void 0?c:-1/0,f.bottom)}}),a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var me="Sortable"+new Date().getTime();function bo(){var i=[],e;return{captureAnimationState:function(){if(i=[],!!this.options.animation){var a=[].slice.call(this.el.children);a.forEach(function(n){if(!(w(n,"display")==="none"||n===E.ghost)){i.push({target:n,rect:te(n)});var o=Ie({},i[i.length-1].rect);if(n.thisAnimationDuration){var r=lt(n,!0);r&&(o.top-=r.f,o.left-=r.e)}n.fromRect=o}})}},addAnimationState:function(a){i.push(a)},removeAnimationState:function(a){i.splice(ho(i,{target:a}),1)},animateAll:function(a){var n=this;if(!this.options.animation){clearTimeout(e),typeof a=="function"&&a();return}var o=!1,r=0;i.forEach(function(l){var c=0,f=l.target,v=f.fromRect,m=te(f),_=f.prevFromRect,D=f.prevToRect,x=l.rect,T=lt(f,!0);T&&(m.top-=T.f,m.left-=T.e),f.toRect=m,f.thisAnimationDuration&&Ei(_,m)&&!Ei(v,m)&&(x.top-m.top)/(x.left-m.left)===(v.top-m.top)/(v.left-m.left)&&(c=yo(x,_,D,n.options)),Ei(m,v)||(f.prevFromRect=v,f.prevToRect=m,c||(c=n.options.animation),n.animate(f,x,m,c)),c&&(o=!0,r=Math.max(r,c),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},c),f.thisAnimationDuration=c)}),clearTimeout(e),o?e=setTimeout(function(){typeof a=="function"&&a()},r):typeof a=="function"&&a(),i=[]},animate:function(a,n,o,r){if(r){w(a,"transition",""),w(a,"transform","");var l=lt(this.el),c=l&&l.a,f=l&&l.d,v=(n.left-o.left)/(c||1),m=(n.top-o.top)/(f||1);a.animatingX=!!v,a.animatingY=!!m,w(a,"transform","translate3d("+v+"px,"+m+"px,0)"),this.forRepaintDummy=_o(a),w(a,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),w(a,"transform","translate3d(0,0,0)"),typeof a.animated=="number"&&clearTimeout(a.animated),a.animated=setTimeout(function(){w(a,"transition",""),w(a,"transform",""),a.animated=!1,a.animatingX=!1,a.animatingY=!1},r)}}}}function _o(i){return i.offsetWidth}function yo(i,e,t,a){return Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*a.animation}var at=[],Ti={initializeByDefault:!0},yt={mount:function(e){for(var t in Ti)Ti.hasOwnProperty(t)&&!(t in e)&&(e[t]=Ti[t]);at.forEach(function(a){if(a.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),at.push(e)},pluginEvent:function(e,t,a){var n=this;this.eventCanceled=!1,a.cancel=function(){n.eventCanceled=!0};var o=e+"Global";at.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](Ie({sortable:t},a)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](Ie({sortable:t},a)))})},initializePlugins:function(e,t,a,n){at.forEach(function(l){var c=l.pluginName;if(!(!e.options[c]&&!l.initializeByDefault)){var f=new l(e,t,e.options);f.sortable=e,f.options=e.options,e[c]=f,je(a,f.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var r=this.modifyOption(e,o,e.options[o]);typeof r<"u"&&(e.options[o]=r)}},getEventProperties:function(e,t){var a={};return at.forEach(function(n){typeof n.eventProperties=="function"&&je(a,n.eventProperties.call(t[n.pluginName],e))}),a},modifyOption:function(e,t,a){var n;return at.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[t]=="function"&&(n=o.optionListeners[t].call(e[o.pluginName],a))}),n}};function xo(i){var e=i.sortable,t=i.rootEl,a=i.name,n=i.targetEl,o=i.cloneEl,r=i.toEl,l=i.fromEl,c=i.oldIndex,f=i.newIndex,v=i.oldDraggableIndex,m=i.newDraggableIndex,_=i.originalEvent,D=i.putSortable,x=i.extraEventProperties;if(e=e||t&&t[me],!!e){var T,B=e.options,G="on"+a.charAt(0).toUpperCase()+a.substr(1);window.CustomEvent&&!Xe&&!_t?T=new CustomEvent(a,{bubbles:!0,cancelable:!0}):(T=document.createEvent("Event"),T.initEvent(a,!0,!0)),T.to=r||t,T.from=l||t,T.item=n||t,T.clone=o,T.oldIndex=c,T.newIndex=f,T.oldDraggableIndex=v,T.newDraggableIndex=m,T.originalEvent=_,T.pullMode=D?D.lastPutMode:void 0;var P=Ie(Ie({},x),yt.getEventProperties(a,e));for(var Z in P)T[Z]=P[Z];t&&t.dispatchEvent(T),B[G]&&B[G].call(e,T)}}var wo=["evt"],pe=function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=a.evt,o=po(a,wo);yt.pluginEvent.bind(E)(e,t,Ie({dragEl:h,parentEl:$,ghostEl:S,rootEl:X,nextEl:it,lastDownEl:Lt,cloneEl:U,cloneHidden:Ve,dragStarted:ct,putSortable:le,activeSortable:E.active,originalEvent:n,oldIndex:rt,oldDraggableIndex:vt,newIndex:ge,newDraggableIndex:ze,hideGhostForTarget:tn,unhideGhostForTarget:an,cloneNowHidden:function(){Ve=!0},cloneNowShown:function(){Ve=!1},dispatchSortableEvent:function(l){ce({sortable:t,name:l,originalEvent:n})}},o))};function ce(i){xo(Ie({putSortable:le,cloneEl:U,targetEl:h,rootEl:X,oldIndex:rt,oldDraggableIndex:vt,newIndex:ge,newDraggableIndex:ze},i))}var h,$,S,X,it,Lt,U,Ve,rt,ge,vt,ze,At,le,ot=!1,Ht=!1,Wt=[],et,Te,Di,Si,Ra,Fa,ct,nt,gt,bt=!1,qt=!1,jt,de,ki=[],qi=!1,Ut=[],$t=typeof document<"u",Pt=Ha,La=_t||Xe?"cssFloat":"float",Eo=$t&&!Wa&&!Ha&&"draggable"in document.createElement("div"),Za=function(){if($t){if(Xe)return!1;var i=document.createElement("x");return i.style.cssText="pointer-events:auto",i.style.pointerEvents==="auto"}}(),Ka=function(e,t){var a=w(e),n=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),o=st(e,0,t),r=st(e,1,t),l=o&&w(o),c=r&&w(r),f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+te(o).width,v=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+te(r).width;if(a.display==="flex")return a.flexDirection==="column"||a.flexDirection==="column-reverse"?"vertical":"horizontal";if(a.display==="grid")return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&l.float&&l.float!=="none"){var m=l.float==="left"?"left":"right";return r&&(c.clear==="both"||c.clear===m)?"vertical":"horizontal"}return o&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||f>=n&&a[La]==="none"||r&&a[La]==="none"&&f+v>n)?"vertical":"horizontal"},To=function(e,t,a){var n=a?e.left:e.top,o=a?e.right:e.bottom,r=a?e.width:e.height,l=a?t.left:t.top,c=a?t.right:t.bottom,f=a?t.width:t.height;return n===l||o===c||n+r/2===l+f/2},Do=function(e,t){var a;return Wt.some(function(n){var o=n[me].options.emptyInsertThreshold;if(!(!o||Fi(n))){var r=te(n),l=e>=r.left-o&&e<=r.right+o,c=t>=r.top-o&&t<=r.bottom+o;if(l&&c)return a=n}}),a},en=function(e){function t(o,r){return function(l,c,f,v){var m=l.options.group.name&&c.options.group.name&&l.options.group.name===c.options.group.name;if(o==null&&(r||m))return!0;if(o==null||o===!1)return!1;if(r&&o==="clone")return o;if(typeof o=="function")return t(o(l,c,f,v),r)(l,c,f,v);var _=(r?l:c).options.group.name;return o===!0||typeof o=="string"&&o===_||o.join&&o.indexOf(_)>-1}}var a={},n=e.group;(!n||Ft(n)!="object")&&(n={name:n}),a.name=n.name,a.checkPull=t(n.pull,!0),a.checkPut=t(n.put),a.revertClone=n.revertClone,e.group=a},tn=function(){!Za&&S&&w(S,"display","none")},an=function(){!Za&&S&&w(S,"display","")};$t&&!Wa&&document.addEventListener("click",function(i){if(Ht)return i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),Ht=!1,!1},!0);var tt=function(e){if(h){e=e.touches?e.touches[0]:e;var t=Do(e.clientX,e.clientY);if(t){var a={};for(var n in e)e.hasOwnProperty(n)&&(a[n]=e[n]);a.target=a.rootEl=t,a.preventDefault=void 0,a.stopPropagation=void 0,t[me]._onDragOver(a)}}},So=function(e){h&&h.parentNode[me]._isOutsideThisEl(e.target)};function E(i,e){if(!(i&&i.nodeType&&i.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(i));this.el=i,this.options=e=je({},e),i[me]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(i.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ka(i,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,l){r.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:E.supportPointer!==!1&&"PointerEvent"in window&&!mt,emptyInsertThreshold:5};yt.initializePlugins(this,i,t);for(var a in t)!(a in e)&&(e[a]=t[a]);en(e);for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));this.nativeDraggable=e.forceFallback?!1:Eo,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?A(i,"pointerdown",this._onTapStart):(A(i,"mousedown",this._onTapStart),A(i,"touchstart",this._onTapStart)),this.nativeDraggable&&(A(i,"dragover",this),A(i,"dragenter",this)),Wt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),je(this,bo())}E.prototype={constructor:E,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(nt=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,h):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,a=this.el,n=this.options,o=n.preventOnFilter,r=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(l||e).target,f=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,v=n.filter;if(No(a),!h&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||n.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&mt&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Se(c,n.draggable,a,!1),!(c&&c.animated)&&Lt!==c)){if(rt=we(c),vt=we(c,n.draggable),typeof v=="function"){if(v.call(this,e,c,this)){ce({sortable:t,rootEl:f,name:"filter",targetEl:c,toEl:a,fromEl:a}),pe("filter",t,{evt:e}),o&&e.cancelable&&e.preventDefault();return}}else if(v&&(v=v.split(",").some(function(m){if(m=Se(f,m.trim(),a,!1),m)return ce({sortable:t,rootEl:m,name:"filter",targetEl:c,fromEl:a,toEl:a}),pe("filter",t,{evt:e}),!0}),v)){o&&e.cancelable&&e.preventDefault();return}n.handle&&!Se(f,n.handle,a,!1)||this._prepareDragStart(e,l,c)}}},_prepareDragStart:function(e,t,a){var n=this,o=n.el,r=n.options,l=o.ownerDocument,c;if(a&&!h&&a.parentNode===o){var f=te(a);if(X=o,h=a,$=h.parentNode,it=h.nextSibling,Lt=a,At=r.group,E.dragged=h,et={target:h,clientX:(t||e).clientX,clientY:(t||e).clientY},Ra=et.clientX-f.left,Fa=et.clientY-f.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,h.style["will-change"]="all",c=function(){if(pe("delayEnded",n,{evt:e}),E.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!qa&&n.nativeDraggable&&(h.draggable=!0),n._triggerDragStart(e,t),ce({sortable:n,name:"choose",originalEvent:e}),ve(h,r.chosenClass,!0)},r.ignore.split(",").forEach(function(v){za(h,v.trim(),Ci)}),A(l,"dragover",tt),A(l,"mousemove",tt),A(l,"touchmove",tt),A(l,"mouseup",n._onDrop),A(l,"touchend",n._onDrop),A(l,"touchcancel",n._onDrop),qa&&this.nativeDraggable&&(this.options.touchStartThreshold=4,h.draggable=!0),pe("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(_t||Xe))){if(E.eventCanceled){this._onDrop();return}A(l,"mouseup",n._disableDelayedDrag),A(l,"touchend",n._disableDelayedDrag),A(l,"touchcancel",n._disableDelayedDrag),A(l,"mousemove",n._delayedDragTouchMoveHandler),A(l,"touchmove",n._delayedDragTouchMoveHandler),r.supportPointer&&A(l,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(c,r.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){h&&Ci(h),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;I(e,"mouseup",this._disableDelayedDrag),I(e,"touchend",this._disableDelayedDrag),I(e,"touchcancel",this._disableDelayedDrag),I(e,"mousemove",this._delayedDragTouchMoveHandler),I(e,"touchmove",this._delayedDragTouchMoveHandler),I(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?A(document,"pointermove",this._onTouchMove):t?A(document,"touchmove",this._onTouchMove):A(document,"mousemove",this._onTouchMove):(A(h,"dragend",this),A(X,"dragstart",this._onDragStart));try{document.selection?Xt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(ot=!1,X&&h){pe("dragStarted",this,{evt:t}),this.nativeDraggable&&A(document,"dragover",So);var a=this.options;!e&&ve(h,a.dragClass,!1),ve(h,a.ghostClass,!0),E.active=this,e&&this._appendGhost(),ce({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Te){this._lastX=Te.clientX,this._lastY=Te.clientY,tn();for(var e=document.elementFromPoint(Te.clientX,Te.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Te.clientX,Te.clientY),e!==t);)t=e;if(h.parentNode[me]._isOutsideThisEl(e),t)do{if(t[me]){var a=void 0;if(a=t[me]._onDragOver({clientX:Te.clientX,clientY:Te.clientY,target:e,rootEl:t}),a&&!this.options.dragoverBubble)break}e=t}while(t=Ga(t));an()}},_onTouchMove:function(e){if(et){var t=this.options,a=t.fallbackTolerance,n=t.fallbackOffset,o=e.touches?e.touches[0]:e,r=S&&lt(S,!0),l=S&&r&&r.a,c=S&&r&&r.d,f=Pt&&de&&Ma(de),v=(o.clientX-et.clientX+n.x)/(l||1)+(f?f[0]-ki[0]:0)/(l||1),m=(o.clientY-et.clientY+n.y)/(c||1)+(f?f[1]-ki[1]:0)/(c||1);if(!E.active&&!ot){if(a&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<a)return;this._onDragStart(e,!0)}if(S){r?(r.e+=v-(Di||0),r.f+=m-(Si||0)):r={a:1,b:0,c:0,d:1,e:v,f:m};var _="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");w(S,"webkitTransform",_),w(S,"mozTransform",_),w(S,"msTransform",_),w(S,"transform",_),Di=v,Si=m,Te=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!S){var e=this.options.fallbackOnBody?document.body:X,t=te(h,!0,Pt,!0,e),a=this.options;if(Pt){for(de=e;w(de,"position")==="static"&&w(de,"transform")==="none"&&de!==document;)de=de.parentNode;de!==document.body&&de!==document.documentElement?(de===document&&(de=Oe()),t.top+=de.scrollTop,t.left+=de.scrollLeft):de=Oe(),ki=Ma(de)}S=h.cloneNode(!0),ve(S,a.ghostClass,!1),ve(S,a.fallbackClass,!0),ve(S,a.dragClass,!0),w(S,"transition",""),w(S,"transform",""),w(S,"box-sizing","border-box"),w(S,"margin",0),w(S,"top",t.top),w(S,"left",t.left),w(S,"width",t.width),w(S,"height",t.height),w(S,"opacity","0.8"),w(S,"position",Pt?"absolute":"fixed"),w(S,"zIndex","100000"),w(S,"pointerEvents","none"),E.ghost=S,e.appendChild(S),w(S,"transform-origin",Ra/parseInt(S.style.width)*100+"% "+Fa/parseInt(S.style.height)*100+"%")}},_onDragStart:function(e,t){var a=this,n=e.dataTransfer,o=a.options;if(pe("dragStart",this,{evt:e}),E.eventCanceled){this._onDrop();return}pe("setupClone",this),E.eventCanceled||(U=Qa(h),U.removeAttribute("id"),U.draggable=!1,U.style["will-change"]="",this._hideClone(),ve(U,this.options.chosenClass,!1),E.clone=U),a.cloneId=Xt(function(){pe("clone",a),!E.eventCanceled&&(a.options.removeCloneOnHide||X.insertBefore(U,h),a._hideClone(),ce({sortable:a,name:"clone"}))}),!t&&ve(h,o.dragClass,!0),t?(Ht=!0,a._loopId=setInterval(a._emulateDragOver,50)):(I(document,"mouseup",a._onDrop),I(document,"touchend",a._onDrop),I(document,"touchcancel",a._onDrop),n&&(n.effectAllowed="move",o.setData&&o.setData.call(a,n,h)),A(document,"drop",a),w(h,"transform","translateZ(0)")),ot=!0,a._dragStartId=Xt(a._dragStarted.bind(a,t,e)),A(document,"selectstart",a),ct=!0,mt&&w(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,a=e.target,n,o,r,l=this.options,c=l.group,f=E.active,v=At===c,m=l.sort,_=le||f,D,x=this,T=!1;if(qi)return;function B(_e,qe){pe(_e,x,Ie({evt:e,isOwner:v,axis:D?"vertical":"horizontal",revert:r,dragRect:n,targetRect:o,canSort:m,fromSortable:_,target:a,completed:P,onMove:function(Ye,Je){return Nt(X,t,h,n,Ye,te(Ye),e,Je)},changed:Z},qe))}function G(){B("dragOverAnimationCapture"),x.captureAnimationState(),x!==_&&_.captureAnimationState()}function P(_e){return B("dragOverCompleted",{insertion:_e}),_e&&(v?f._hideClone():f._showClone(x),x!==_&&(ve(h,le?le.options.ghostClass:f.options.ghostClass,!1),ve(h,l.ghostClass,!0)),le!==x&&x!==E.active?le=x:x===E.active&&le&&(le=null),_===x&&(x._ignoreWhileAnimating=a),x.animateAll(function(){B("dragOverAnimationComplete"),x._ignoreWhileAnimating=null}),x!==_&&(_.animateAll(),_._ignoreWhileAnimating=null)),(a===h&&!h.animated||a===t&&!a.animated)&&(nt=null),!l.dragoverBubble&&!e.rootEl&&a!==document&&(h.parentNode[me]._isOutsideThisEl(e.target),!_e&&tt(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),T=!0}function Z(){ge=we(h),ze=we(h,l.draggable),ce({sortable:x,name:"change",toEl:t,newIndex:ge,newDraggableIndex:ze,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),a=Se(a,l.draggable,t,!0),B("dragOver"),E.eventCanceled)return T;if(h.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||x._ignoreWhileAnimating===a)return P(!1);if(Ht=!1,f&&!l.disabled&&(v?m||(r=$!==X):le===this||(this.lastPutMode=At.checkPull(this,f,h,e))&&c.checkPut(this,f,h,e))){if(D=this._getDirection(e,a)==="vertical",n=te(h),B("dragOverValid"),E.eventCanceled)return T;if(r)return $=X,G(),this._hideClone(),B("revert"),E.eventCanceled||(it?X.insertBefore(h,it):X.appendChild(h)),P(!0);var N=Fi(t,l.draggable);if(!N||Io(e,D,this)&&!N.animated){if(N===h)return P(!1);if(N&&t===e.target&&(a=N),a&&(o=te(a)),Nt(X,t,h,n,a,o,e,!!a)!==!1)return G(),N&&N.nextSibling?t.insertBefore(h,N.nextSibling):t.appendChild(h),$=t,Z(),P(!0)}else if(N&&Oo(e,D,this)){var ne=st(t,0,l,!0);if(ne===h)return P(!1);if(a=ne,o=te(a),Nt(X,t,h,n,a,o,e,!1)!==!1)return G(),t.insertBefore(h,ne),$=t,Z(),P(!0)}else if(a.parentNode===t){o=te(a);var L=0,z,oe=h.parentNode!==t,j=!To(h.animated&&h.toRect||n,a.animated&&a.toRect||o,D),R=D?"top":"left",ie=Na(a,"top","top")||Na(h,"top","top"),C=ie?ie.scrollTop:void 0;nt!==a&&(z=o[R],bt=!1,qt=!j&&l.invertSwap||oe),L=Ao(e,a,o,D,j?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,qt,nt===a);var H;if(L!==0){var he=we(h);do he-=L,H=$.children[he];while(H&&(w(H,"display")==="none"||H===S))}if(L===0||H===a)return P(!1);nt=a,gt=L;var Ee=a.nextElementSibling,se=!1;se=L===1;var Ae=Nt(X,t,h,n,a,o,e,se);if(Ae!==!1)return(Ae===1||Ae===-1)&&(se=Ae===1),qi=!0,setTimeout(Co,30),G(),se&&!Ee?t.appendChild(h):a.parentNode.insertBefore(h,se?Ee:a),ie&&$a(ie,0,C-ie.scrollTop),$=h.parentNode,z!==void 0&&!qt&&(jt=Math.abs(z-te(a)[R])),Z(),P(!0)}if(t.contains(h))return P(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){I(document,"mousemove",this._onTouchMove),I(document,"touchmove",this._onTouchMove),I(document,"pointermove",this._onTouchMove),I(document,"dragover",tt),I(document,"mousemove",tt),I(document,"touchmove",tt)},_offUpEvents:function(){var e=this.el.ownerDocument;I(e,"mouseup",this._onDrop),I(e,"touchend",this._onDrop),I(e,"pointerup",this._onDrop),I(e,"touchcancel",this._onDrop),I(document,"selectstart",this)},_onDrop:function(e){var t=this.el,a=this.options;if(ge=we(h),ze=we(h,a.draggable),pe("drop",this,{evt:e}),$=h&&h.parentNode,ge=we(h),ze=we(h,a.draggable),E.eventCanceled){this._nulling();return}ot=!1,qt=!1,bt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Pi(this.cloneId),Pi(this._dragStartId),this.nativeDraggable&&(I(document,"drop",this),I(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),mt&&w(document.body,"user-select",""),w(h,"transform",""),e&&(ct&&(e.cancelable&&e.preventDefault(),!a.dropBubble&&e.stopPropagation()),S&&S.parentNode&&S.parentNode.removeChild(S),(X===$||le&&le.lastPutMode!=="clone")&&U&&U.parentNode&&U.parentNode.removeChild(U),h&&(this.nativeDraggable&&I(h,"dragend",this),Ci(h),h.style["will-change"]="",ct&&!ot&&ve(h,le?le.options.ghostClass:this.options.ghostClass,!1),ve(h,this.options.chosenClass,!1),ce({sortable:this,name:"unchoose",toEl:$,newIndex:null,newDraggableIndex:null,originalEvent:e}),X!==$?(ge>=0&&(ce({rootEl:$,name:"add",toEl:$,fromEl:X,originalEvent:e}),ce({sortable:this,name:"remove",toEl:$,originalEvent:e}),ce({rootEl:$,name:"sort",toEl:$,fromEl:X,originalEvent:e}),ce({sortable:this,name:"sort",toEl:$,originalEvent:e})),le&&le.save()):ge!==rt&&ge>=0&&(ce({sortable:this,name:"update",toEl:$,originalEvent:e}),ce({sortable:this,name:"sort",toEl:$,originalEvent:e})),E.active&&((ge==null||ge===-1)&&(ge=rt,ze=vt),ce({sortable:this,name:"end",toEl:$,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){pe("nulling",this),X=h=$=S=it=U=Lt=Ve=et=Te=ct=ge=ze=rt=vt=nt=gt=le=At=E.dragged=E.ghost=E.clone=E.active=null,Ut.forEach(function(e){e.checked=!0}),Ut.length=Di=Si=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":h&&(this._onDragOver(e),ko(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,a=this.el.children,n=0,o=a.length,r=this.options;n<o;n++)t=a[n],Se(t,r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||Po(t));return e},sort:function(e,t){var a={},n=this.el;this.toArray().forEach(function(o,r){var l=n.children[r];Se(l,this.options.draggable,n,!1)&&(a[o]=l)},this),t&&this.captureAnimationState(),e.forEach(function(o){a[o]&&(n.removeChild(a[o]),n.appendChild(a[o]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Se(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var a=this.options;if(t===void 0)return a[e];var n=yt.modifyOption(this,e,t);typeof n<"u"?a[e]=n:a[e]=t,e==="group"&&en(a)},destroy:function(){pe("destroy",this);var e=this.el;e[me]=null,I(e,"mousedown",this._onTapStart),I(e,"touchstart",this._onTapStart),I(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(I(e,"dragover",this),I(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Wt.splice(Wt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ve){if(pe("hideClone",this),E.eventCanceled)return;w(U,"display","none"),this.options.removeCloneOnHide&&U.parentNode&&U.parentNode.removeChild(U),Ve=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ve){if(pe("showClone",this),E.eventCanceled)return;h.parentNode==X&&!this.options.group.revertClone?X.insertBefore(U,h):it?X.insertBefore(U,it):X.appendChild(U),this.options.group.revertClone&&this.animate(h,U),w(U,"display",""),Ve=!1}}};function ko(i){i.dataTransfer&&(i.dataTransfer.dropEffect="move"),i.cancelable&&i.preventDefault()}function Nt(i,e,t,a,n,o,r,l){var c,f=i[me],v=f.options.onMove,m;return window.CustomEvent&&!Xe&&!_t?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=i,c.dragged=t,c.draggedRect=a,c.related=n||e,c.relatedRect=o||te(e),c.willInsertAfter=l,c.originalEvent=r,i.dispatchEvent(c),v&&(m=v.call(f,c,r)),m}function Ci(i){i.draggable=!1}function Co(){qi=!1}function Oo(i,e,t){var a=te(st(t.el,0,t.options,!0)),n=Ja(t.el,t.options,S),o=10;return e?i.clientX<n.left-o||i.clientY<a.top&&i.clientX<a.right:i.clientY<n.top-o||i.clientY<a.bottom&&i.clientX<a.left}function Io(i,e,t){var a=te(Fi(t.el,t.options.draggable)),n=Ja(t.el,t.options,S),o=10;return e?i.clientX>n.right+o||i.clientY>a.bottom&&i.clientX>a.left:i.clientY>n.bottom+o||i.clientX>a.right&&i.clientY>a.top}function Ao(i,e,t,a,n,o,r,l){var c=a?i.clientY:i.clientX,f=a?t.height:t.width,v=a?t.top:t.left,m=a?t.bottom:t.right,_=!1;if(!r){if(l&&jt<f*n){if(!bt&&(gt===1?c>v+f*o/2:c<m-f*o/2)&&(bt=!0),bt)_=!0;else if(gt===1?c<v+jt:c>m-jt)return-gt}else if(c>v+f*(1-n)/2&&c<m-f*(1-n)/2)return qo(e)}return _=_||r,_&&(c<v+f*o/2||c>m-f*o/2)?c>v+f/2?1:-1:0}function qo(i){return we(h)<we(i)?1:-1}function Po(i){for(var e=i.tagName+i.className+i.src+i.href+i.textContent,t=e.length,a=0;t--;)a+=e.charCodeAt(t);return a.toString(36)}function No(i){Ut.length=0;for(var e=i.getElementsByTagName("input"),t=e.length;t--;){var a=e[t];a.checked&&Ut.push(a)}}function Xt(i){return setTimeout(i,0)}function Pi(i){return clearTimeout(i)}$t&&A(document,"touchmove",function(i){(E.active||ot)&&i.cancelable&&i.preventDefault()});E.utils={on:A,off:I,css:w,find:za,is:function(e,t){return!!Se(e,t,e,!1)},extend:vo,throttle:Va,closest:Se,toggleClass:ve,clone:Qa,index:we,nextTick:Xt,cancelNextTick:Pi,detectDirection:Ka,getChild:st,expando:me};E.get=function(i){return i[me]};E.mount=function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(E.utils=Ie(Ie({},E.utils),a.utils)),yt.mount(a)})};E.create=function(i,e){return new E(i,e)};E.version=mo;var K=[],ft,Ni,Mi=!1,Oi,Ii,Gt,pt;function Mo(){function i(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return i.prototype={dragStarted:function(t){var a=t.originalEvent;this.sortable.nativeDraggable?A(document,"dragover",this._handleAutoScroll):this.options.supportPointer?A(document,"pointermove",this._handleFallbackAutoScroll):a.touches?A(document,"touchmove",this._handleFallbackAutoScroll):A(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var a=t.originalEvent;!this.options.dragOverBubble&&!a.rootEl&&this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?I(document,"dragover",this._handleAutoScroll):(I(document,"pointermove",this._handleFallbackAutoScroll),I(document,"touchmove",this._handleFallbackAutoScroll),I(document,"mousemove",this._handleFallbackAutoScroll)),ja(),Yt(),go()},nulling:function(){Gt=Ni=ft=Mi=pt=Oi=Ii=null,K.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,a){var n=this,o=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(o,r);if(Gt=t,a||this.options.forceAutoScrollFallback||_t||Xe||mt){Ai(t,this.options,l,a);var c=$e(l,!0);Mi&&(!pt||o!==Oi||r!==Ii)&&(pt&&ja(),pt=setInterval(function(){var f=$e(document.elementFromPoint(o,r),!0);f!==c&&(c=f,Yt()),Ai(t,n.options,f,a)},10),Oi=o,Ii=r)}else{if(!this.options.bubbleScroll||$e(l,!0)===Oe()){Yt();return}Ai(t,this.options,$e(l,!1),!1)}}},je(i,{pluginName:"scroll",initializeByDefault:!0})}function Yt(){K.forEach(function(i){clearInterval(i.pid)}),K=[]}function ja(){clearInterval(pt)}var Ai=Va(function(i,e,t,a){if(e.scroll){var n=(i.touches?i.touches[0]:i).clientX,o=(i.touches?i.touches[0]:i).clientY,r=e.scrollSensitivity,l=e.scrollSpeed,c=Oe(),f=!1,v;Ni!==t&&(Ni=t,Yt(),ft=e.scroll,v=e.scrollFn,ft===!0&&(ft=$e(t,!0)));var m=0,_=ft;do{var D=_,x=te(D),T=x.top,B=x.bottom,G=x.left,P=x.right,Z=x.width,N=x.height,ne=void 0,L=void 0,z=D.scrollWidth,oe=D.scrollHeight,j=w(D),R=D.scrollLeft,ie=D.scrollTop;D===c?(ne=Z<z&&(j.overflowX==="auto"||j.overflowX==="scroll"||j.overflowX==="visible"),L=N<oe&&(j.overflowY==="auto"||j.overflowY==="scroll"||j.overflowY==="visible")):(ne=Z<z&&(j.overflowX==="auto"||j.overflowX==="scroll"),L=N<oe&&(j.overflowY==="auto"||j.overflowY==="scroll"));var C=ne&&(Math.abs(P-n)<=r&&R+Z<z)-(Math.abs(G-n)<=r&&!!R),H=L&&(Math.abs(B-o)<=r&&ie+N<oe)-(Math.abs(T-o)<=r&&!!ie);if(!K[m])for(var he=0;he<=m;he++)K[he]||(K[he]={});(K[m].vx!=C||K[m].vy!=H||K[m].el!==D)&&(K[m].el=D,K[m].vx=C,K[m].vy=H,clearInterval(K[m].pid),(C!=0||H!=0)&&(f=!0,K[m].pid=setInterval((function(){a&&this.layer===0&&E.active._onTouchMove(Gt);var Ee=K[this.layer].vy?K[this.layer].vy*l:0,se=K[this.layer].vx?K[this.layer].vx*l:0;typeof v=="function"&&v.call(E.dragged.parentNode[me],se,Ee,i,Gt,K[this.layer].el)!=="continue"||$a(K[this.layer].el,se,Ee)}).bind({layer:m}),24))),m++}while(e.bubbleScroll&&_!==c&&(_=$e(_,!1)));Mi=f}},30),nn=function(e){var t=e.originalEvent,a=e.putSortable,n=e.dragEl,o=e.activeSortable,r=e.dispatchSortableEvent,l=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(t){var f=a||o;l();var v=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,m=document.elementFromPoint(v.clientX,v.clientY);c(),f&&!f.el.contains(m)&&(r("spill"),this.onSpill({dragEl:n,putSortable:a}))}};function Li(){}Li.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,a=e.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var n=st(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),a&&a.animateAll()},drop:nn};je(Li,{pluginName:"revertOnSpill"});function ji(){}ji.prototype={onSpill:function(e){var t=e.dragEl,a=e.putSortable,n=a||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:nn};je(ji,{pluginName:"removeOnSpill"});E.mount(new Mo);E.mount(ji,Li);var Ro=q('<div><label class="font-medium">Label <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The title of the question"></i> <input type="text" class="input form-input text-sm" required maxlength="45"></label></div> <div><label class="font-medium">Maximum length <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The maximum input length"></i> <input type="number" class="input form-input text-sm" required min="1" max="1000"></label></div> <div><label class="font-medium">Minimum length <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The minimum input length"></i> <input type="number" class="input form-input text-sm" required min="0" max="1000"></label></div> <div><label class="font-medium">Placeholder <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The placeholder value, such as a hint"></i> <input type="text" class="input form-input text-sm" maxlength="100"></label></div> <div><label for="required" class="font-medium">Required <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Require input?"></i> <input type="checkbox" id="required" name="required" class="form-checkbox"></label></div> <div><label class="font-medium">Style <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How big should the input box be?"></i> <select class="input form-multiselect" required><option class="p-1">Short (single-line)</option><option class="p-1">Long (multi-line)</option></select></label></div> <div><label class="font-medium">Value <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="A pre-filled value"></i> <textarea class="input form-input text-sm" maxlength="1000"></textarea></label></div>',1);function Fo(i,e){zt(e,!0);let t=Ya(e,"question",15);var a=Ro(),n=xe(a),o=u(n),r=p(u(o));De(r);var l=p(r,4);ee(l),s(o),s(n);var c=p(n,2),f=u(c),v=p(u(f),3);ee(v),s(f),s(c);var m=p(c,2),_=u(m),D=p(u(_),3);ee(D),s(_),s(m);var x=p(m,2),T=u(x),B=p(u(T),3);ee(B),s(T),s(x);var G=p(x,2),P=u(G),Z=p(u(P),3);ee(Z),s(P),s(G);var N=p(G,2),ne=u(N),L=p(u(ne),3),z=u(L);z.value=(z.__value=1)==null?"":1;var oe=p(z);oe.value=(oe.__value=2)==null?"":2,s(L),s(ne),s(N);var j=p(N,2),R=u(j),ie=p(u(R),3);Xa(ie),s(R),s(j),ae(l,()=>t().label,C=>t(t().label=C,!0)),ae(v,()=>t().maxLength,C=>t(t().maxLength=C,!0)),ae(D,()=>t().minLength,C=>t(t().minLength=C,!0)),ae(B,()=>t().placeholder,C=>t(t().placeholder=C,!0)),Rt(Z,()=>t().required,C=>t(t().required=C,!0)),Ge(L,()=>t().style,C=>t(t().style=C,!0)),ae(ie,()=>t().value,C=>t(t().value=C,!0)),O(i,a),Vt()}var Lo=(i,e)=>io.open(OptionsModal,{id:e().id}),jo=q("<li> </li>"),Xo=q('<div><label class="font-medium">Label <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The title of the question"></i> <input type="text" class="input form-input text-sm" required maxlength="45"></label></div> <div><label class="font-medium">Maximum values <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How many choices can be selected?"></i> <input type="number" class="input form-input text-sm" required min="1" max="25"></label></div> <div><label class="font-medium">Minimum values <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The minimum number of select choices"></i> <input type="number" class="input form-input text-sm" default="1" required min="0" max="25"></label></div> <div><div class="font-medium"> <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The options that members can choose from"></i> <button type="button" class="rounded-lg px-2 font-medium text-yellow-500 transition duration-300 hover:text-yellow-300 disabled:cursor-not-allowed dark:text-yellow-500 dark:hover:text-yellow-500/50"><i class="fa-solid fa-pencil"></i> Edit</button></div> <div><ul class="list-inside list-disc"></ul></div></div> <div><div><label class="font-medium">Placeholder <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The placeholder (label)"></i> <input type="text" class="input form-input text-sm" maxlength="150"></label></div></div>',1);function Yo(i,e){zt(e,!0);let t=Ya(e,"question",15),a=t()._maxLength;t(t().maxLength={get maxLength(){return a},set maxLength(R){a=Math.min(25,R)}},!0);var n=Xo(),o=xe(n),r=u(o),l=p(u(r));De(l);var c=p(l,4);ee(c),s(r),s(o);var f=p(o,2),v=u(f),m=p(u(v),3);ee(m),s(v),s(f);var _=p(f,2),D=u(_),x=p(u(D),3);ee(x),s(D),s(_);var T=p(_,2),B=u(T),G=u(B),P=p(G);De(P);var Z=p(P,4);Z.__click=[Lo,t],s(B);var N=p(B,2),ne=u(N);Me(ne,21,()=>t().options,Re,(R,ie)=>{var C=jo(),H=u(C,!0);s(C),Y(()=>ue(H,g(ie).label)),O(R,C)}),s(ne),s(N),s(T);var L=p(T,2),z=u(L),oe=u(z),j=p(u(oe),3);ee(j),s(oe),s(z),s(L),Y(()=>ue(G,`Options (${t().options.length??""}/25) `)),ae(c,()=>t().label,R=>t(t().label=R,!0)),ae(m,()=>t().maxLength,R=>t(t().maxLength=R,!0)),ae(x,()=>t().minLength,R=>t(t().minLength=R,!0)),ae(j,()=>t().placeholder,R=>t(t().placeholder=R,!0)),O(i,n),Vt()}Ri(["click"]);var Bo=(i,e,t)=>e(g(t)),Ho=q('<i class="fa-solid fa-spinner animate-spin"></i>'),Wo=q('<i class="fa-solid fa-xmark"></i>'),Uo=(i,e,t)=>be(e,Ce(g(e)===g(t).id?null:g(t).id)),Go=(i,e)=>{g(e).type==="TEXT"?g(e).maxLength=1e3:g(e).type==="MENU"&&(g(e).maxLength=1)},zo=q('<div class="my-4 text-sm"><div class="grid grid-cols-1 gap-3"><div><label class="font-medium">Type <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="What type of input should the question use?"></i> <select class="input form-multiselect text-sm" required><option class="p-1" default disabled>Select an input type</option><option class="p-1">Text</option><option class="p-1" disabled title="Disabled until supported by Discord">Select menu</option></select></label></div> <!></div></div>'),Vo=q('<div class="list-group-item rounded-xl bg-gray-100/50 p-4 dark:bg-slate-800/50"><div class="w-full"><div class="flex items-center gap-2 md:gap-4"><i class="handle fa-solid fa-grip-vertical cursor-move text-gray-500 dark:text-slate-400"></i> <div class="w-full"> <button type="button" class="text-red-300 transition duration-300 hover:text-red-500 disabled:cursor-not-allowed dark:text-red-500/50 dark:hover:text-red-500" title="Remove"><!></button> <button type="button" class="flex w-full cursor-pointer select-none justify-between font-medium text-gray-500 transition duration-300 hover:text-blurple dark:text-slate-400 dark:hover:text-blurple"><span class="text-sm"> </span> <i></i></button></div></div> <!></div></div>'),$o=q('<div class="list-group flex flex-col gap-2"></div>');function Qo(i,e){zt(e,!0);const[t,a]=Zn(),n=()=>Kn(eo,"$page",t);let o=Fe(Ce({})),r=Fe(null),l=Fe(void 0);Ba(()=>{E.create(g(l),{animation:300,handle:".handle",dragClass:"dragged",swapThreshold:.5,dataIdAttr:"data-id",store:{get:()=>J.questions.sort((m,_)=>m.order-_.order),set:v=>{v.toArray().forEach((_,D)=>J.questions.find(x=>x.id===_).order=D)}}})});const c=async v=>{if(v._real!==!1){if(!confirm("Are you sure? This will delete all responses."))return!1;g(o)[v.id]=!0;const D=`/api/admin/guilds/${n().params.guild}/categories/${n().params.category}/questions/${v.id}`,x=await fetch(D,{credentials:"include",method:"DELETE"});if(g(o)[v.id]=!1,!x.ok){const T=await x.json();console.log(T);return}}const m=J.questions.findIndex(_=>v.id===_.id);J.questions.splice(m,1),be(o,!1)};var f=$o();Me(f,21,()=>J.questions,Re,(v,m,_)=>{var D=Vo(),x=u(D),T=u(x),B=p(u(T),2),G=u(B),P=p(G);P.__click=[Bo,c,m];var Z=u(P);{var N=C=>{var H=Ho();O(C,H)},ne=C=>{var H=Wo();O(C,H)};Q(Z,C=>{g(o)[g(m).id]?C(N):C(ne,!1)})}s(P);var L=p(P,2);L.__click=[Uo,r,m];var z=u(L),oe=u(z);s(z);var j=p(z,2);s(L),s(B),s(T);var R=p(T,2);{var ie=C=>{var H=zo(),he=u(H),Ee=u(he),se=u(Ee),Ae=p(u(se));De(Ae);var _e=p(Ae,4);_e.__change=[Go,m];var qe=u(_e);qe.value=(qe.__value=null)==null?"":null;var Qe=p(qe);Qe.value=(Qe.__value="TEXT")==null?"":"TEXT";var Ye=p(Qe);Ye.value=(Ye.__value="MENU")==null?"":"MENU",s(_e),s(se),s(Ee);var Je=p(Ee,2);{var xt=ye=>{Fo(ye,{get question(){return J.questions[_]},set question(Ze){J.questions[_]=Ze}})},wt=ye=>{var Ze=Mt(),Et=xe(Ze);{var Tt=Ke=>{Yo(Ke,{get question(){return J.questions[_]},set question(Dt){J.questions[_]=Dt}})};Q(Et,Ke=>{g(m).type==="MENU"&&Ke(Tt)},!0)}O(ye,Ze)};Q(Je,ye=>{g(m).type==="TEXT"?ye(xt):ye(wt,!1)})}s(he),s(H),Ge(_e,()=>g(m).type,ye=>g(m).type=ye),O(C,H)};Q(R,C=>{g(r)===g(m).id&&C(ie)})}s(x),s(D),Y(()=>{ut(D,"data-id",g(m).id),ue(G,`${g(m).label??""} `),P.disabled=g(o)[g(m).id],ue(oe,`Click to ${(g(r)===g(m).id?"collapse":"expand")??""}`),Qn(j,`fa-solid ${(g(r)===g(m).id?"fa-angle-up":"fa-angle-down")??""} self-end text-xl`)}),O(v,D)}),s(f),Jn(f,v=>be(l,v),()=>g(l)),O(i,f),Vt(),a()}Ri(["click","change"]);const Jo=async(i,e,t,a)=>{try{if(!confirm(`Are you sure?
This will delete all associated tickets (including messages, feedback, etc).`))return!1;be(e,!0);const o=await fetch(t,{method:"DELETE",credentials:"include"}),r=await o.json();if(o.ok)window.location="./";else throw r}catch(n){be(e,!1),be(a,Ce(n)),window.scroll({top:0,behavior:"smooth"})}};var Zo=(i,e)=>be(e,!0),Ko=q('<p class="mb-1 mt-2 text-sm font-semibold">Preview</p> <div class="block w-full break-words rounded-md bg-blurple/20 p-3 font-mono text-sm shadow-sm dark:bg-blurple/20"><i class="fa-solid fa-hashtag text-gray-500 dark:text-slate-400"></i> <span class="marked"><!></span></div>',1),er=q("<option>Create a new category</option> <hr>",1),tr=q('<option class="p-1"> </option>'),ir=q("<!> <discord-mention> </discord-mention>",3),ar=q("<!> , <br>",1),nr=q("<discord-embed-fields><discord-embed-field>This is a pretty good preview</discord-embed-field></discord-embed-fields>",2),or=q("<discord-embed-footer> </discord-embed-footer>",2),rr=q("<discord-button>✏️ Edit</discord-button>",2),lr=q("<discord-button>🙌 Claim</discord-button>",2),sr=q("<discord-button>✖️ Close</discord-button>",2),dr=q('<p class="mb-1 mt-2 text-sm font-semibold">Preview</p> <discord-messages><discord-message><!> <discord-mention> </discord-mention> has created a new ticket <discord-embed><discord-embed-description><!></discord-embed-description> <!> <!></discord-embed> <discord-attachments><discord-action-row><!> <!> <!></discord-action-row></discord-attachments></discord-message></discord-messages>',3),ur=q('<option class="m-1 rounded p-1"> </option>'),cr=q('<option class="p-1"> </option>'),fr=q('<option class="m-1 rounded p-1"> </option>'),pr=q('<option class="m-1 rounded p-1"> </option>'),mr=q('<option class="p-1"> </option>'),hr=q(`<div><label class="font-medium">Custom topic <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Which question's value should be used as the ticket topic?"></i> <select class="input form-multiselect font-normal"><option class="p-1">None</option><hr><!></select></label></div>`),vr=q('<div class="text-center"><button type="button" class="rounded-lg p-2 px-5 font-medium text-green-500 transition duration-300 hover:text-green-300 disabled:cursor-not-allowed dark:text-green-500 dark:hover:text-green-500/50"><i class="fa-solid fa-circle-plus"></i> Add</button></div>'),gr=q('<i class="fa-solid fa-spinner animate-spin"></i>'),br=q('<i class="fa-solid fa-trash"></i>'),_r=q('<button type="button" class="mt-4 rounded-lg bg-red-300 p-2 px-5 font-medium transition duration-300 hover:bg-red-500 hover:text-white disabled:cursor-not-allowed dark:bg-red-500/50 dark:hover:bg-red-500 dark:hover:text-white"><!> Delete</button>'),yr=q('<i class="fa-solid fa-spinner animate-spin"></i>'),xr=q('<div class="mb-8 text-center text-orange-600 dark:text-orange-400"><p><i class="fa-solid fa-triangle-exclamation"></i> <a href="https://discordtickets.app/configuration/categories" class="font-semibold hover:underline">Read the documentation</a> to avoid problems.</p></div> <h1 class="m-4 text-center text-4xl font-bold">Categories</h1> <h2 class="m-4 text-center text-2xl font-semibold text-gray-500 dark:text-slate-400"> </h2> <div class="m-2 mx-auto max-w-5xl p-4 text-lg"><!> <form class="my-4"><div class="grid grid-cols-1 gap-6 md:grid-cols-2 md:gap-12"><div class="grid grid-cols-1 gap-8"><div><label class="font-medium">Name <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The name of the category"></i> <input type="text" class="input form-input" required></label></div> <div><label class="font-medium">Channel name <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The name of ticket channels"></i> <input type="text" class="input form-input"></label> <!></div> <div><label for="claiming" class="font-medium">Claiming <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Allow staff to claim tickets?"></i> <input type="checkbox" id="claiming" name="claiming" class="form-checkbox"></label></div> <div><label class="font-medium">Cooldown <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How long should members have to wait before creating another ticket?"></i> <input type="text" class="input form-input"></label></div> <div><label class="font-medium">Description <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="What is this category for?"></i> <input type="text" class="input form-input" required></label></div> <div><label class="font-medium">Discord category <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Which category channel should ticket channels be created under?"></i> <select class="input form-multiselect" required><!><!></select></label></div> <div><label class="font-medium">Emoji <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Emoji used for buttons &amp; dropdowns"></i> <span class="text-2xl"> </span> <input type="text" class="input form-input" required></label></div> <div><label for="enableFeedback" class="font-medium">Feedback <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Gather feedback from members?"></i> <input type="checkbox" id="enableFeedback" name="enableFeedback" class="form-checkbox"></label></div> <div><label class="font-medium">Image <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="A link to an image to be sent with the opening message."></i> <input type="url" class="input form-input"></label></div> <div><label class="font-medium">Member limit <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How many tickets in this category can each member have open?"></i> <input type="number" min="1" max="10" class="input form-input"></label></div> <div><label class="font-medium">Opening message <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Content to be sent in the opening message of each ticket."></i> <textarea class="input form-input" required rows="4" maxlength="1000"></textarea></label> <!></div> <div><label class="font-medium">Ping roles <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Roles that should be pinged upon ticket creation."></i> <select multiple class="input form-multiselect h-44 font-normal"></select></label></div> <div><label class="font-medium">Slow mode <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Should slow mode be enabled?"></i> <select class="input form-multiselect font-normal"><option class="p-1">Off</option><!></select></label></div> <div><label class="font-medium">Required roles <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Roles that a user needs to create a ticket."></i> <select multiple class="input form-multiselect h-44 font-normal"></select></label></div> <div><label for="requireTopic" class="font-medium">Require topic <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Require a topic before ticket creation?"></i> <input type="checkbox" id="requireTopic" name="requireTopic" class="form-checkbox"></label></div> <div><label class="font-medium">Staff roles <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Roles that will be able to view tickets."></i> <select multiple required class="input form-multiselect h-44 font-normal"></select></label></div> <div><label class="font-medium">Total limit <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The total number of tickets that can be open at once."></i> <input type="number" min="1" max="50" class="input form-input"></label></div></div> <div><div class="rounded-xl bg-white p-4 shadow-sm dark:bg-slate-700"><div class="flex flex-col gap-4"><div class="text-center"><h3 class="text-xl font-bold">Questions</h3> <p class="text-gray-500 dark:text-slate-400"> </p></div> <!> <div><!></div> <!></div></div> <div class="flex justify-end gap-4"><!> <button type="submit" class="mt-4 rounded-lg bg-green-300 p-2 px-5 font-medium transition duration-300 hover:bg-green-500 hover:text-white disabled:cursor-not-allowed dark:bg-green-500/50 dark:hover:bg-green-500 dark:hover:text-white"><!> Submit</button></div></div></div></form></div>',1);function Jr(i,e){zt(e,!0);let t=Fe(!1);ao(d=>{g(t)&&!confirm("You have unsaved changes; are you sure you want to leave?")&&d.cancel()}),Ba(async()=>{const{applyPolyfills:d,defineCustomElements:b}=await Rn(async()=>{const{applyPolyfills:y,defineCustomElements:k}=await import("../chunks/DoxZjlon.js").then(V=>V.i);return{applyPolyfills:y,defineCustomElements:k}},__vite__mapDeps([0,1]),import.meta.url);d().then(()=>{b()}),window.addEventListener("beforeunload",y=>{g(t)&&(y.preventDefault(),y.returnValue="")})});let a=e.data,n=Ce(a.category),o=Fe(Ce(a.channels)),r=Fe(Ce(a.roles)),l=Ce(a.url);const c=["5s","10s","15s","30s","1m","2m","5m","10m","15m","30m","1h","2h","6h"];J.questions=n.questions,be(o,Ce(g(o).filter(d=>d.type===4))),be(r,Ce(g(r).filter(d=>d.name!=="@everyone").sort((d,b)=>b.rawPosition-d.rawPosition))),g(r).forEach(d=>{d._hexColor=d.color>0?`#${d.color.toString(16).padStart(6,"0")}`:null,d._style=d._hexColor?`color: ${d._hexColor}`:""}),n.cooldown=n.cooldown?wi(n.cooldown):"";let f=Fe(null),v=Fe(!1),m=Fe(!1);const _=async()=>{try{be(v,!0);const d={...n};if(n.discordCategory==="new"&&(d.discordCategory=null),d.cooldown=n.cooldown?wi(n.cooldown):null,d.name.length>30)throw new Error(`The name is too long (${d.name.length}>30).`);if(d.description.length>100)throw new Error(`The description is too long (${d.description.length}>100).`);d.questions=J.questions.map(k=>{if(k.type==="TEXT"){if(k.value.length>0&&k.value.length<k.minLength)throw`The value of the "${k.label}" question is shorter than the minimum length.`;if(k.value.length>k.maxLength)throw`The value of the "${k.label}" question is longer than the maximum length.`}return delete k._real,k}),d.questions.find(k=>k.id===d.customTopic)===void 0&&(d.customTopic=null);const b=await fetch(l,{method:n.id?"PATCH":"POST",body:JSON.stringify(d),credentials:"include",headers:{"Content-Type":"application/json; charset=UTF-8"}}),y=await b.json();if(b.ok)be(t,!1),window.location="./";else throw y}catch(d){be(v,!1),be(f,Ce(d)),window.scroll({top:0,behavior:"smooth"})}},D=d=>g(r).find(b=>b.id===d);ka(()=>{n.customTopic=J.questions.find(d=>d.id===n.customTopic)?n.customTopic:null}),ka(()=>{n.requireTopic=J.questions.length>0?!1:n.requireTopic});var x=xr(),T=p(xe(x),4),B=u(T);s(T);var G=p(T,2),P=u(G);{var Z=d=>{to(d,{get error(){return g(f)}})};Q(P,d=>{g(f)&&d(Z)})}var N=p(P,2),ne=Ta(()=>Vn(()=>_()));N.__change=[Zo,t];var L=u(N),z=u(L),oe=u(z),j=u(oe),R=p(u(j));De(R);var ie=p(R,4);ee(ie),s(j),s(oe);var C=p(oe,2),H=u(C),he=p(u(H));{var Ee=d=>{De(d)};Q(he,d=>{n.id&&d(Ee)})}var se=p(he,4);ee(se),ut(se,"placeholder","ticket-{num}"),s(H);var Ae=p(H,2);{var _e=d=>{var b=Ko(),y=p(xe(b),2),k=p(u(y),2),V=u(k);Sa(V,()=>Ca.parse(n.channelName.replace(/\n/g,`

`)).replace(/{+\s?num(ber)?\s?}+/gi,1).replace(/{+\s?(nick|display)(name)?\s?}+/gi,Da("user").username).replace(/{+\s?(user)?name\s?}+/gi,Da("user").username)),s(k),s(y),O(d,b)};Q(Ae,d=>{n.channelName&&d(_e)})}s(C);var qe=p(C,2),Qe=u(qe),Ye=p(u(Qe),3);ee(Ye),s(Qe),s(qe);var Je=p(qe,2),xt=u(Je),wt=p(u(xt),3);ee(wt),s(xt),s(Je);var ye=p(Je,2),Ze=u(ye),Et=p(u(Ze));De(Et);var Tt=p(Et,4);ee(Tt),s(Ze),s(ye);var Ke=p(ye,2),Dt=u(Ke),Xi=p(u(Dt));De(Xi);var Qt=p(Xi,4),Yi=u(Qt);{var on=d=>{var b=er(),y=xe(b);y.value=(y.__value="new")==null?"":"new",Ot(2),O(d,b)};Q(Yi,d=>{(!n.discordCategory||n.discordCategory==="new")&&d(on)})}var rn=p(Yi);Me(rn,17,()=>g(o),Re,(d,b)=>{var y=tr(),k={},V=u(y,!0);s(y),Y(()=>{k!==(k=g(b).id)&&(y.value=(y.__value=g(b).id)==null?"":g(b).id),ue(V,g(b).name)}),O(d,y)}),s(Qt),s(Dt),s(Ke);var Jt=p(Ke,2),Bi=u(Jt),Hi=p(u(Bi));De(Hi);var Zt=p(Hi,4),ln=u(Zt,!0);s(Zt);var Wi=p(Zt,2);ee(Wi),s(Bi),s(Jt);var Kt=p(Jt,2),Ui=u(Kt),Gi=p(u(Ui),3);ee(Gi),s(Ui),s(Kt);var ei=p(Kt,2),zi=u(ei),Vi=p(u(zi),3);ee(Vi),s(zi),s(ei);var ti=p(ei,2),$i=u(ti),Qi=p(u($i),3);ee(Qi),s($i),s(ti);var ii=p(ti,2),ai=u(ii),Ji=p(u(ai));De(Ji);var Zi=p(Ji,4);Xa(Zi),s(ai);var sn=p(ai,2);Oa(sn,()=>n.pingRoles,d=>{var b=Mt(),y=xe(b);Oa(y,()=>n.requireTopic,k=>{var V=Mt(),fe=xe(V);{var Pe=Be=>{var He=dr(),We=p(xe(He),2);M(We,"no-background",!0),Y(()=>M(We,"light-theme",e.data.theme!=="dark")),M(We,"class","bloc w-full border-0");var ke=u(We);Y(()=>M(ke,"author",e.data.client.username)),Y(()=>M(ke,"avatar",e.data.client.avatar)),M(ke,"bot",!0),Y(()=>M(ke,"timestamp",`Today at ${new Date().toLocaleTimeString("default",{hour:"numeric",minute:"numeric"})}`)),M(ke,"class","py-2"),M(ke,"highlight",!0);var ma=u(ke);{var bn=W=>{var F=ar(),dt=xe(F);Me(dt,17,()=>n.pingRoles,Re,(Cn,On,In)=>{var _a=Mt();const yi=Ta(()=>D(g(On)));var An=xe(_a);{var qn=xi=>{var ya=ir(),xa=xe(ya);{var Pn=Ne=>{var wa=Gn();wa.nodeValue=" ",O(Ne,wa)};Q(xa,Ne=>{In>0&&Ne(Pn)})}var Ct=p(xa,2);Y(()=>{var Ne;return M(Ct,"color",(Ne=g(yi))==null?void 0:Ne._hexColor)}),M(Ct,"type","role");var Nn=u(Ct,!0);s(Ct),Y(()=>{var Ne;return ue(Nn,(Ne=g(yi))==null?void 0:Ne.name)}),O(xi,ya)};Q(An,xi=>{g(yi)&&xi(qn)})}O(Cn,_a)}),Ot(2),O(W,F)};Q(ma,W=>{var F;((F=n.pingRoles)==null?void 0:F.length)>0&&W(bn)})}var St=p(ma,2);M(St,"highlight",!0);var _n=u(St,!0);s(St);var Ue=p(St,2);M(Ue,"slot","embeds"),Y(()=>M(Ue,"color",e.data.settings.primaryColour)),Y(()=>M(Ue,"author-image",`https://cdn.discordapp.com/avatars/${e.data.user.id}/${e.data.user.avatar}.webp`)),Y(()=>M(Ue,"author-name",e.data.user.username)),Y(()=>M(Ue,"image",n.image));var kt=u(Ue);M(kt,"slot","description");var yn=u(kt);Sa(yn,()=>Ca.parse(n.openingMessage).replace(/{+\s?(user)?name\s?}+/gi,`<discord-mention>${e.data.user.username}</discord-mention>`).replace(/{+\s?avgResponseTime\s?}+/gi,e.data.guild.stats.avgResponseTime).replace(/{+\s?avgResolutionTime\s?}+/gi,e.data.guild.stats.avgResolutionTime)),s(kt);var ha=p(kt,2);{var xn=W=>{var F=nr();M(F,"slot","fields");var dt=u(F);M(dt,"field-title","Topic"),s(F),O(W,F)};Q(ha,W=>{n.requireTopic&&W(xn)})}var wn=p(ha,2);{var En=W=>{var F=or();M(F,"slot","footer"),Y(()=>M(F,"footer-image",e.data.client.avatar));var dt=u(F,!0);s(F),Y(()=>ue(dt,e.data.settings.footer)),O(W,F)};Q(wn,W=>{e.data.settings.footer&&W(En)})}s(Ue);var _i=p(Ue,2);M(_i,"slot","components");var va=u(_i),ga=u(va);{var Tn=W=>{var F=rr();M(F,"type","secondary"),O(W,F)};Q(ga,W=>{(n.requireTopic||J.questions.length>0)&&W(Tn)})}var ba=p(ga,2);{var Dn=W=>{var F=lr();M(F,"type","secondary"),O(W,F)};Q(ba,W=>{n.claiming&&e.data.settings.claimButton&&W(Dn)})}var Sn=p(ba,2);{var kn=W=>{var F=sr();M(F,"type","destructive"),O(W,F)};Q(Sn,W=>{e.data.settings.closeButton&&W(kn)})}s(va),s(_i),s(ke),s(We),Y(()=>ue(_n,e.data.user.username)),O(Be,He)};Q(fe,Be=>{n.openingMessage&&Be(Pe)})}O(k,V)}),O(d,b)}),s(ii);var ni=p(ii,2),Ki=u(ni),oi=p(u(Ki),3);Me(oi,21,()=>g(r),Re,(d,b)=>{var y=ur(),k={},V=u(y);s(y),Y(()=>{k!==(k=g(b).id)&&(y.value=(y.__value=g(b).id)==null?"":g(b).id),ut(y,"style",g(b)._style),ue(V,`${g(b).unicodeEmoji||""}
									${g(b).name??""}`)}),O(d,y)}),s(oi),s(Ki),s(ni);var ri=p(ni,2),ea=u(ri),li=p(u(ea),3),si=u(li);si.value=(si.__value=null)==null?"":null;var dn=p(si);Me(dn,17,()=>c,Re,(d,b)=>{var y=cr(),k={},V=u(y,!0);s(y),Y(fe=>{k!==(k=fe)&&(y.value=(y.__value=fe)==null?"":fe),ue(V,g(b))},[()=>wi(g(b))/1e3]),O(d,y)}),s(li),s(ea),s(ri);var di=p(ri,2),ta=u(di),ui=p(u(ta),3);Me(ui,21,()=>g(r),Re,(d,b)=>{var y=fr(),k={},V=u(y);s(y),Y(()=>{k!==(k=g(b).id)&&(y.value=(y.__value=g(b).id)==null?"":g(b).id),ut(y,"style",g(b)._style),ue(V,`${g(b).unicodeEmoji||""}
									${g(b).name??""}`)}),O(d,y)}),s(ui),s(ta),s(di);var ci=p(di,2),ia=u(ci),fi=p(u(ia),3);ee(fi),s(ia),s(ci);var pi=p(ci,2),aa=u(pi),na=p(u(aa));De(na);var mi=p(na,4);Me(mi,21,()=>g(r),Re,(d,b)=>{var y=pr(),k={},V=u(y);s(y),Y(()=>{k!==(k=g(b).id)&&(y.value=(y.__value=g(b).id)==null?"":g(b).id),ut(y,"style",g(b)._style),ue(V,`${g(b).unicodeEmoji||""}
									${g(b).name??""}`)}),O(d,y)}),s(mi),s(aa),s(pi);var oa=p(pi,2),ra=u(oa),la=p(u(ra),3);ee(la),s(ra),s(oa),s(z);var sa=p(z,2),hi=u(sa),da=u(hi),vi=u(da),ua=p(u(vi),2),un=u(ua);s(ua),s(vi);var ca=p(vi,2);{var cn=d=>{var b=hr(),y=u(b),k=p(u(y),3),V=u(k);V.value=(V.__value=null)==null?"":null;var fe=p(V,2);Me(fe,17,()=>J.questions,Re,(Pe,Be)=>{var He=mr(),We={},ke=u(He,!0);s(He),Y(()=>{We!==(We=g(Be).id)&&(He.value=(He.__value=g(Be).id)==null?"":g(Be).id),ue(ke,g(Be).label)}),O(Pe,He)}),s(k),s(y),s(b),Ge(k,()=>n.customTopic,Pe=>n.customTopic=Pe),O(d,b)};Q(ca,d=>{J.questions.length>0&&d(cn)})}var gi=p(ca,2),fn=u(gi);Qo(fn,{}),s(gi);var pn=p(gi,2);{var mn=d=>{var b=vr(),y=u(b);y.__click=()=>{J.questions.push({id:uo(),label:`Question ${J.questions.length+1}`,maxLength:1e3,minLength:0,options:[],order:J.questions.length,placeholder:"",required:!0,style:2,type:null,value:"",_real:!1})},s(b),O(d,b)};Q(pn,d=>{J.questions.length<5&&d(mn)})}s(da),s(hi);var fa=p(hi,2),pa=u(fa);{var hn=d=>{var b=_r();b.__click=[Jo,m,l,f];var y=u(b);{var k=fe=>{var Pe=gr();O(fe,Pe)},V=fe=>{var Pe=br();O(fe,Pe)};Q(y,fe=>{g(m)?fe(k):fe(V,!1)})}Ot(),s(b),Y(()=>b.disabled=g(m)),O(d,b)};Q(pa,d=>{n.id&&d(hn)})}var bi=p(pa,2),vn=u(bi);{var gn=d=>{var b=yr();O(d,b)};Q(vn,d=>{g(v)&&d(gn)})}Ot(),s(bi),s(fa),s(sa),s(L),s(N),s(G),Y(d=>{ue(B,`${d??""}
	${n.name||"New category"}`),se.required=!!n.id,ue(ln,d),fi.disabled=J.questions.length>0,ue(un,`${J.questions.length??""}/5`),bi.disabled=g(v)},[()=>$n.get(n.emoji)??""]),zn("submit",N,function(...d){var b;(b=g(ne))==null||b.apply(this,d)}),ae(ie,()=>n.name,d=>n.name=d),ae(se,()=>n.channelName,d=>n.channelName=d),Rt(Ye,()=>n.claiming,d=>n.claiming=d),ae(wt,()=>n.cooldown,d=>n.cooldown=d),ae(Tt,()=>n.description,d=>n.description=d),Ge(Qt,()=>n.discordCategory,d=>n.discordCategory=d),ae(Wi,()=>n.emoji,d=>n.emoji=d),Rt(Gi,()=>n.enableFeedback,d=>n.enableFeedback=d),ae(Vi,()=>n.image,d=>n.image=d),ae(Qi,()=>n.memberLimit,d=>n.memberLimit=d),ae(Zi,()=>n.openingMessage,d=>n.openingMessage=d),Ge(oi,()=>n.pingRoles,d=>n.pingRoles=d),Ge(li,()=>n.ratelimit,d=>n.ratelimit=d),Ge(ui,()=>n.requiredRoles,d=>n.requiredRoles=d),Rt(fi,()=>n.requireTopic,d=>n.requireTopic=d),Ge(mi,()=>n.staffRoles,d=>n.staffRoles=d),ae(la,()=>n.totalLimit,d=>n.totalLimit=d),O(i,x),Vt()}Ri(["change","click"]);export{Jr as component,Qr as universal};
